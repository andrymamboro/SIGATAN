{"version":3,"file":"utils-DK2L4Iz5.js","sources":["../../Components/maps/LeafletContext.jsx","../../Components/maps/utils.js"],"sourcesContent":["'use client'; // Required for Next.js 13/14/15 App Router\r\n\r\nimport { createContext, useContext } from 'react';\r\n\r\nexport const CONTEXT_VERSION = 1;\r\n\r\nexport function createLeafletContext(map) {\r\n  return Object.freeze({\r\n    __version: CONTEXT_VERSION,\r\n    map\r\n  });\r\n}\r\n\r\nexport function extendContext(source, extra) {\r\n  return Object.freeze({\r\n    ...source,\r\n    ...extra\r\n  });\r\n}\r\n\r\n// Line 15: Should now work if the environment is correct\r\nexport const LeafletContext = createContext(null);\r\nexport const LeafletProvider = LeafletContext.Provider;\r\n\r\nexport function useLeafletContext() {\r\n  const context = useContext(LeafletContext);\r\n  if (!context) {\r\n    throw new Error(\"useLeafletContext must be used within a LeafletProvider\");\r\n  }\r\n  return context;\r\n}\r\n","// Utility: Mendapatkan warna background/fill polygon/polyline berdasarkan status\r\n// Catatan: Semua warna fill di bawah menggunakan alpha/transparansi (rgba) agar background polygon/polyline tidak menutupi peta sepenuhnya.\r\nexport function getPolygonFillColor(status) {\r\n  // Untuk 'no color' (benar-benar transparan), gunakan status 'no-color' atau 'none'\r\n  if (status === 'no-color' || status === 'none') return 'rgba(0,0,0,0)'; // transparan penuh\r\n  if (status === 'Selesai') return 'rgba(251,146,60,0.18)'; // orange-400\r\n  if (status === 'Ditolak') return 'rgba(193,0,31,0.18)';\r\n  if (status === 'Hijau') return 'rgba(34,197,94,0.18)';\r\n  if (status === 'Ungu') return 'rgba(162,28,175,0.15)';\r\n  return 'rgba(59,130,246,0.18)'; // default biru\r\n}\r\n// Contoh: fillColor={getPolygonFillColor(tanah.status)}\r\n// Utility: Daftar warna untuk keterangan/legend status marker & polygon\r\nexport const STATUS_COLOR_LEGEND = {\r\n  Proses:   { color: '#3b82f6', label: 'Biru' },\r\n  Selesai:  { color: '#EAB308', label: 'Kuning' },\r\n  Ditolak:  { color: '#ef4444', label: 'Merah' },\r\n  Hijau:    { color: '#22c55e', label: 'Hijau' },\r\n  Orange:   { color: '#f97316', label: 'Orange' },\r\n  Putih:    { color: '#ffffff', label: 'Putih' },\r\n  Ungu:     { color: '#a21caf', label: 'Ungu' },\r\n};\r\n\r\n// Contoh penggunaan:\r\n// STATUS_COLOR_LEGEND['Selesai'].color // => '#EAB308'\r\n// STATUS_COLOR_LEGEND['Selesai'].label // => 'Kuning'\r\n\r\n\r\n// Warna status untuk marker & polygon:\r\n// Proses   : #3b82f6 (biru)\r\n// Selesai  : #EAB308 (kuning)\r\n// Ditolak  : #ef4444 (merah)\r\n// Hijau    : #22c55e (green)\r\n// Orange   : #f97316 (orange)\r\n// Putih    : #ffffff (white)\r\n// Ungu     : #a21caf (purple)\r\n// Border polygon saat selected: #EAB308 (kuning)\r\n// Warna garis drawing polyline/polygon: #2563eb (biru-tua)\r\n\r\n// Utility to get color for drawing polyline/polygon (garis saat menggambar)\r\nexport function getDrawingLineColor() {    \r\n  return '#2563eb'; // biru-tua\r\n}\r\n\r\n// Utility to get polygon color and border color based on status and selection\r\nexport function getSelectedPolygonColor() {\r\n  return '#f97316'; // orange (atau ganti sesuai kebutuhan highlight)\r\n}\r\n\r\nexport function getPolygonColors(status, isSelected) {\r\n  let color = (status === 'Selesai' ? '#EAB308' : status === 'Ditolak' ? '#ef4444' : '#3b82f6');\r\n  let borderColor = '#f97316';\r\n  if (isSelected) {\r\n    color = '#fff';\r\n    borderColor = '#EAB308';\r\n  }\r\n  return { color, borderColor };\r\n}\r\n// Utility for custom circle marker icon (status color, white border, responsive size)\r\nimport L from 'leaflet';\r\nexport function createCircleIcon(status, zoom = 13) {\r\n  // Ukuran marker\r\n  const size = 16;\r\n  // Ambil warna status\r\n  const color = STATUS_COLOR_LEGEND[status]?.color || '#3b82f6';\r\n  return L.divIcon({\r\n    className: 'custom-marker-status',\r\n    html: `<div style=\"width:${size}px;height:${size}px;border-radius:50%;background:${color};border:2px solid #fff;box-shadow:0 1px 3px rgba(0,0,0,0.18);\"></div>`,\r\n    iconSize: [size, size],\r\n    iconAnchor: [size / 2, size / 2], // tengah-tengah lingkaran\r\n    popupAnchor: [0, -size / 2],\r\n  });\r\n}\r\n\r\n"],"names":["LeafletContext","createContext","STATUS_COLOR_LEGEND","getPolygonColors","status","isSelected","color","borderColor","createCircleIcon","zoom","L"],"mappings":"mFAqBO,MAAMA,EAAiBC,EAAAA,cAAc,IAAI,EACjBD,EAAe,SCTvC,MAAME,EAAsB,CACjC,OAAU,CAAE,MAAO,UAAW,MAAO,MAAM,EAC3C,QAAU,CAAE,MAAO,UAAW,MAAO,QAAQ,EAC7C,QAAU,CAAE,MAAO,UAAW,MAAO,OAAO,EAC5C,MAAU,CAAE,MAAO,UAAW,MAAO,OAAO,EAC5C,OAAU,CAAE,MAAO,UAAW,MAAO,QAAQ,EAC7C,MAAU,CAAE,MAAO,UAAW,MAAO,OAAO,EAC5C,KAAU,CAAE,MAAO,UAAW,MAAO,MAAM,CAC7C,EA4BO,SAASC,EAAiBC,EAAQC,EAAY,CACnD,IAAIC,EAASF,IAAW,UAAY,UAAYA,IAAW,UAAY,UAAY,UAC/EG,EAAc,UAClB,OAAIF,IACFC,EAAQ,OACRC,EAAc,WAET,CAAE,MAAAD,EAAO,YAAAC,EAClB,CAGO,SAASC,EAAiBJ,EAAQK,EAAO,GAAI,CAIlD,MAAMH,EAAQJ,EAAoBE,CAAM,GAAG,OAAS,UACpD,OAAOM,EAAE,QAAQ,CACf,UAAW,uBACX,KAAM,mEAA6EJ,CAAK,wEACxF,SAAU,CAAC,GAAM,EAAI,EACrB,WAAY,CAAC,GAAO,EAAG,GAAO,CAAC,EAC/B,YAAa,CAAC,EAAG,IAAQ,CAAC,CAC9B,CAAG,CACH"}