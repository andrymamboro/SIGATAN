import{s as a}from"./db-BLqj6fe8.js";async function e(){const{data:{user:e}}=await a.auth.getUser();if(!e)return null;let i=null,{data:t}=await a.from("users").select("*").eq("auth_id",e.id).single();if(i=t,!i){let{data:t}=await a.from("users").select("*").eq("uid",e.id).single();i=t,i&&!i.auth_id&&await a.from("users").update({auth_id:e.id}).eq("id",i.id)}if(!i&&e.email){let{data:t}=await a.from("users").select("*").eq("email",e.email).single();i=t,i&&await a.from("users").update({uid:e.id,auth_id:e.id}).eq("id",i.id)}return i?{...e,...i}:null}export{e as g};
//# sourceMappingURL=authUser-CgjMIivx.js.map
