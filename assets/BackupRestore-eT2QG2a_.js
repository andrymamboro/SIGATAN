import{r as n,R as c,j as e,Z as o}from"./vendor-BKp2tr96.js";import{B as i}from"./index-C5rwQ5l5.js";import"./leaflet-C2x5yPDR.js";import"./pdf-DglC5ngP.js";function h(){const[m,p]=n.useState(""),[l,r]=n.useState(!1);return c.useEffect(()=>{const t=localStorage.getItem("user");if(t)try{const s=JSON.parse(t);r(s.role==="admin")}catch{r(!1)}else r(!1)},[]),l?e.jsxs("div",{className:"max-w-xl mx-auto py-10 space-y-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Backup & Restore Database"}),e.jsx("div",{className:"flex gap-2 items-center mb-4",children:e.jsx(i,{type:"button",variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-50",onClick:()=>{window.open("/api/backup-db-pg.php","_blank")},children:"Backup SQL (Postgres)"})}),e.jsxs("form",{onSubmit:async t=>{t.preventDefault();const s=t.target.elements.restorefile;if(!s.files[0])return;const a=new FormData;a.append("sqlfile",s.files[0]),(await fetch("/api/restore-db-pg.php",{method:"POST",body:a})).ok?o.success("Restore sukses!"):o.error("Restore gagal!")},className:"flex gap-2 items-center",children:[e.jsx("input",{type:"file",name:"restorefile",accept:".sql",className:"border px-2 py-1 rounded text-sm",style:{minWidth:180}}),e.jsx(i,{type:"submit",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Restore SQL (Postgres)"})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center text-red-600 font-bold text-xl",children:"Akses hanya untuk admin"})})}export{h as default};
//# sourceMappingURL=BackupRestore-eT2QG2a_.js.map
