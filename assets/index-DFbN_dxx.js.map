{"version":3,"mappings":";k9BAOA,MAUaA,EAAWC,EAVH,2CACK,kDCNnB,SAASC,EAAcC,GAC5B,MAAO,IAAIA,EAASC,eACtB,CCDO,SAASC,KAAMC,GACpB,OAAOC,EAAQC,EAAKF,GACtB,CCCA,MAAMG,EAAiBC,EACrB,yRACA,CACEC,SAAU,CACRC,QAAS,CACPC,QAAS,yDACTC,YACE,qEACFC,QACE,iFACFC,UACE,+DACFC,MAAO,+CACPC,KAAM,mDAERC,KAAM,CACJN,QAAS,iBACTO,GAAI,sBACJC,GAAI,uBACJC,KAAM,cAGVC,gBAAiB,CACfX,QAAS,UACTO,KAAM,aAKNK,EAASC,aAAiB,EAAGC,YAAWd,UAASO,OAAMQ,WAAU,KAAUC,GAASC,KACxF,MAAMC,EAAOH,EAAUI,EAAO,SAC9B,OACEC,MAACF,EAAA,CACCJ,UAAWrB,EAAGI,EAAe,CAAEG,UAASO,OAAMO,eAC9CG,SACID,MAIVJ,EAAOS,YAAc,sICTfC,EAAaN,GACjBO,OAAC,OAAIC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,UAAWX,EAC9DY,SAAA,OAAC,QAAKC,EAAE,IAAIC,EAAE,IAAIN,MAAM,IAAIC,OAAO,KAAKE,KAAK,UAAUI,OAAO,UAAUC,YAAY,YACnF,QAAKH,EAAE,KAAKC,EAAE,IAAIN,MAAM,IAAIC,OAAO,KAAKE,KAAK,UAAUI,OAAO,UAAUC,YAAY,YACpF,QAAKH,EAAE,KAAKC,EAAE,IAAIN,MAAM,IAAIC,OAAO,KAAKE,KAAK,UAAUI,OAAO,UAAUC,YAAY,SAGnFC,EAAY,CAChB,CAAEC,KAAM,YAAaxB,KAAOM,GAAUI,MAACe,EAAA,IAAoBnB,EAAOoB,MAAM,YAAcC,KAAM,aAC5F,CAAEH,KAAM,aAAcxB,KAAOM,GAAUI,MAACkB,EAAA,IAAUtB,EAAOoB,MAAM,YAAcC,KAAM,aACnF,CAAEH,KAAM,aAAcxB,KAAOM,GAAUI,MAACmB,EAAA,IAAevB,IAAWqB,KAAM,aACxE,CAAEH,KAAM,UAAWxB,KAAOM,GAAUI,MAACoB,EAAA,IAAexB,EAAOoB,MAAM,YAAcC,KAAM,WACrF,CAAEH,KAAM,UAAWxB,KAAOM,GAAUI,MAACqB,EAAA,IAAazB,EAAOoB,MAAM,YAAcC,KAAM,WACnF,CAAEH,KAAM,UAAWxB,KAAOM,GAAUI,MAACE,EAAA,IAAcN,IAAWqB,KAAM,WACpE,CAAEH,KAAM,UAAWxB,KAAOM,GAAUI,MAACkB,EAAA,IAAUtB,EAAOoB,MAAM,YAAcC,KAAM,UAChF,CAAEH,KAAM,SAAUxB,KAAOM,GAAUI,MAACsB,EAAA,IAAU1B,EAAOoB,MAAM,YAAcC,KAAM,UAC/E,CAAEH,KAAM,iBAAkBxB,KAAOM,SAAW2B,EAAA,IAAY3B,EAAOoB,MAAM,YAAcC,KAAM,gBAAiBO,gBAAgB,IAG5H,SAAwBC,GAAQC,UAAEA,EAAAC,aAAWA,EAAAC,KAAcA,EAAAC,SAAMA,IAC/D,MAAMC,EAAWC,IAEjB,OACE5B,OAAA6B,WAAA,CAEGxB,SAAA,EAACkB,GACA1B,MAAC,OACCN,UAAU,2CACVuC,QAAS,IAAMN,GAAa,KAKhC3B,MAAC,SACCN,UAAWrB,EACT,uLACAqD,EAAY,cAAgB,QAG9BlB,gBAAC,OAAId,UAAWrB,EAAG,uBAAwBqD,GAAa,kBAEtDlB,SAAA,GAAAL,KAAC,OAAIT,UAAU,oEACZc,SAAA,EAACkB,GACAvB,OAAC,OAAIT,UAAU,0BACbc,SAAA,CAAAR,MAAC,OACCkC,IAAK,4BACLC,IAAI,OACJzC,UAAU,oCAEX,OACCc,SAAA,OAAC,MAAGd,UAAU,+BAA+Bc,SAAA,kBAC5C,KAAEd,UAAU,yBAAyBc,SAAA,iDAI5CR,MAACR,EAAA,CACCZ,QAAQ,QACRO,KAAK,OACL8C,QAAS,IAAMN,GAAcD,GAC7BhC,UAAU,qDAEVc,eAAC4B,EAAA,CAAY1C,UAAWrB,EAAG,+BAAgCqD,GAAa,sBAK1EA,GAAaE,GACb5B,MAAC,OAAIN,UAAU,kCACbc,WAAAL,KAAC,OAAIT,UAAU,0BACbc,SAAA,OAAC,OAAId,UAAU,gHACbc,eAAC,QAAKd,UAAU,oBAAqBc,SAAAoB,EAAKS,YAAY,IAAM,UAE9DlC,KAAC,OAAIT,UAAU,iBACbc,SAAA,CAAAR,MAAC,KAAEN,UAAU,+BAAgCc,SAAAoB,GAAMS,WAAaT,GAAMU,iBACrE,KAAE5C,UAAU,kCAAmCc,SAAAoB,GAAMW,WAAaX,GAAMY,0BAOhF,OAAI9C,UAAU,uCACZc,SAAAK,EAAU4B,IAAKC,IACd,GAAIA,EAAKlB,gBAAiC,gBAAfI,GAAMe,KAAwB,OAAO,KAChE,MAAMC,EAAWd,EAASe,SAASC,SAASJ,EAAKzB,MACjD,OACEd,OAAC4C,EAAA,CAECC,GAAI9E,EAAcwE,EAAKzB,MACvBvB,UAAWrB,EACT,2EACAuE,EACI,sDACA,wDAGNpC,SAAA,GAAAR,IAAC,QAAKN,UAAU,kHACdc,SAAAR,MAAC0C,EAAKpD,KAAL,CAAUI,UAAU,6BAErBgC,GAAa1B,MAAC,QAAKN,UAAU,YAAac,WAAKM,SAZ5C4B,EAAKzB,YAmBlBjB,IAAC,OAAIN,UAAU,kCACbc,SAAAL,OAACX,EAAA,CACCZ,QAAQ,QACRqD,QAASJ,EACTnC,UAAWrB,EACT,yFACAqD,EAAY,iBAAmB,iBAGjClB,SAAA,GAAAR,IAACiD,EAAA,CAAOvD,UAAU,aAChBgC,GAAa1B,MAAC,QAAKN,UAAU,OAAOc,SAAA,qBAO9CR,MAACR,EAAA,CACCZ,QAAQ,QACRO,KAAK,OACL8C,QAAS,IAAMN,GAAa,GAC5BjC,UAAU,uFAEVc,SAAAR,MAACkD,EAAA,CAAKxD,UAAU,gBAIxB,CClKA,SAAwByD,GAAO3C,SAAEA,EAAA4C,gBAAUA,IACzC,MAAOxB,EAAMyB,GAAWC,WAAS,OAC1B5B,EAAWC,GAAgB2B,YAAS,IACpCC,EAASC,GAAcF,YAAS,GACjCG,EAAWC,IAEjBC,YAAU,KAER,MAAMC,EAAUC,aAAaC,QAAQ,QACrC,IAAKF,EAGH,OAFAH,EAAS,eACTD,GAAW,GAGb,IACE,MAAMO,EAAUC,KAAKC,MAAML,GAC3BP,EAAQU,GACRP,GAAW,EACb,OAASU,GACPL,aAAaM,WAAW,QACxBV,EAAS,UACTD,GAAW,EACb,GACC,CAACC,IAOJ,OAAIF,QAEC,OAAI7D,UAAU,4DACbc,SAAAL,OAAC,OAAIT,UAAU,cACbc,SAAA,GAAAR,IAAC,OAAIN,UAAU,2EACfM,MAAC,KAAEN,UAAU,sBAAsBc,SAAA,qBAOzCL,KAAC,OAAIT,UAAU,eACbc,SAAA,CAAAR,MAACoE,EAAA,CAAQC,SAAS,YAAYC,YAAU,IACxCtE,MAACyB,EAAA,CACCC,YACAC,eACAC,OACAC,SAvBe0C,UACnBV,aAAaM,WAAW,QACxBV,EAAS,aAuBPzD,MAAC,QACCN,UAAWrB,EACT,2CACAqD,EAAY,WAAa,YAG3BlB,WAAAR,IAAC,OAAIN,UAAU,kCACZc,iBAKX,CC9DA,MAAMgE,EAAYC,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,2BAAmBC,mCACvDC,EAAYL,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,2BAAmBC,sCACvDE,EAAcN,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,6BAAqBC,wCAC3DG,EAAYP,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,2BAAmBC,gCACvDI,EAAYR,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,2BAAmBC,wCACvDK,EAAUT,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,yBAAiBC,+CACnDM,EAAUV,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,yBAAiBC,4CACnDO,EAAgBX,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,+BAAuBC,+CAC/DQ,EAAgBZ,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,+BAAuBC,8BAC/DS,EAAQb,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,uBAAeC,oCAC/CU,EAAOd,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,sBAAcC,KAC7CW,EAAUf,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,yBAAiBC,kCACnDY,EAAchB,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,6BAAqBC,4BAC3Da,EAASjB,EAAMC,KAAK,IAAAC,EAAA,IAAMC,OAAO,wBAAgBC,4BAGjDc,GAAc,IAAIC,EAAY,CAClCC,eAAgB,CACdC,QAAS,CACPC,sBAAsB,EACtBC,MAAO,EACPC,UAAW,QAKjB,SAASC,KACP,SACE/F,KAACgG,EAAA,CAAoBC,OAAQT,GAC3BnF,SAAA,CAAAR,MAACoE,EAAA,CAAQC,SAAS,YAAYC,YAAU,IACxCtE,MAACqG,EAAA,CACC7F,SAAAR,MAACyE,EAAM6B,SAAN,CAAeC,SAAUvG,MAAC,OAAIN,UAAU,gDAAgDc,SAAA,eACzFA,gBAACgG,EAAA,CAEChG,SAAA,CAAAR,MAACyG,GAAMC,KAAK,QAAQC,QAAS3G,MAACuF,cAG7BkB,EAAA,CAAMC,KAAK,SAASC,QAAS3G,MAACsF,UAG/BtF,IAACyG,EAAA,CAAMC,KAAK,IAAIC,QAAS3G,MAAC4G,EAAA,CAAS5D,GAAG,SAAS6D,SAAO,MACtD7G,MAACyG,EAAA,CAAMC,KAAK,aAAaC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,YAAY5C,WAAAR,IAACwE,EAAA,QACvExE,MAACyG,EAAA,CAAMC,KAAK,aAAaC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,aAAa5C,WAAAR,IAAC8E,EAAA,QACxE9E,MAACyG,EAAA,CAAMC,KAAK,aAAaC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,aAAa5C,WAAAR,IAACgF,EAAA,QACxEhF,MAACyG,EAAA,CAAMC,KAAK,eAAeC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,eAAe5C,WAAAR,IAAC+E,EAAA,QAC5E/E,MAACyG,EAAA,CAAMC,KAAK,aAAaC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,aAAa5C,WAAAR,IAACiF,EAAA,QACxEjF,MAACyG,EAAA,CAAMC,KAAK,WAAWC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,UAAU5C,WAAAR,IAACkF,EAAA,QACnElF,MAACyG,EAAA,CAAMC,KAAK,WAAWC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,UAAU5C,WAAAR,IAACmF,EAAA,QACnEnF,MAACyG,EAAA,CAAMC,KAAK,iBAAiBC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,iBAAiB5C,WAAAR,IAACoF,EAAA,QAChFpF,MAACyG,EAAA,CAAMC,KAAK,iBAAiBC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,mBAAmB5C,WAAAR,IAACqF,EAAA,QAClFrF,MAACyG,EAAA,CAAMC,KAAK,WAAWC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,UAAU5C,WAAAR,IAACwF,EAAA,QACnExF,MAACyG,EAAA,CAAMC,KAAK,UAAUC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,UAAU5C,WAAAR,IAAC0F,EAAA,QAClE1F,MAACyG,EAAA,CAAMC,KAAK,UAAUC,QAAS3G,MAACmD,EAAA,CAAOC,gBAAgB,kBAAkB5C,WAAAR,IAACyF,EAAA,UAG1EzF,IAACyG,EAAA,CAAMC,KAAK,IAAIC,QAAS3G,MAAC4G,EAAA,CAAS5D,GAAG,aAAa6D,SAAO,eAMpE,CC9DAC,QAAQC,IAAI,+BAAgCC,iBAM5CC,EAASC,WAAWC,SAASC,eAAe,SAASC,aAClD5C,EAAM6C,WAAN,CACC9G,SAAAR,MAACkG","names":["supabase","createClient","createPageUrl","pageName","toLowerCase","cn","inputs","twMerge","clsx","buttonVariants","cva","variants","variant","default","destructive","outline","secondary","ghost","link","size","sm","lg","icon","defaultVariants","Button","React.forwardRef","className","asChild","props","ref","Comp","Slot","jsx","displayName","GlobeIcon","jsxs","width","height","viewBox","fill","children","x","y","stroke","strokeWidth","menuItems","name","LayoutDashboard","color","page","Globe","Table2Icon","UserCircle","BookOpen","Users","UserCog","superAdminOnly","Sidebar","collapsed","setCollapsed","user","onLogout","location","useLocation","Fragment","onClick","src","alt","ChevronLeft","full_name","username","kecamatan","kelurahan","map","item","role","isActive","pathname","includes","Link","to","LogOut","Menu","Layout","currentPageName","setUser","useState","loading","setLoading","navigate","useNavigate","useEffect","userStr","localStorage","getItem","userObj","JSON","parse","e","removeItem","Toaster","position","richColors","async","Dashboard","React","lazy","__vitePreload","import","__VITE_PRELOAD__","DataTanah","DetailTanah","FormTanah","PetaTanah","Pejabat","Laporan","ManajemenUser","BackupRestore","Login","Test","Wilayah","UserProfile","TesMap","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","retry","staleTime","App","QueryClientProvider","client","Router","Suspense","fallback","Routes","Route","path","element","Navigate","replace","console","log","createContext","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"ignoreList":[],"sources":["../../api/supabaseClient.js","../../utils/index.js","../../lib/utils.js","../../Components/ui/button.jsx","../../Components/layout/Sidebar.jsx","../../Layout.jsx","../../App.jsx","../../main.jsx"],"sourcesContent":["// Supabase client setup untuk aplikasi web\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\n// Ganti dengan URL dan anon key project Supabase Anda\r\n// const SUPABASE_URL = 'https://your-project.supabase.co';\r\n// const SUPABASE_ANON_KEY = 'your-anon-key';\r\n\r\nconst SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL;\r\nconst SUPABASE_ANON_KEY = import.meta.env.VITE_SUPABASE_ANON_KEY;\r\n\r\n\r\n// Environment variables should be set in a .env file or your deployment environment, not directly in JS files.\r\n// Example .env usage (do not include in this JS file):\r\n// NEXT_PUBLIC_SUPABASE_URL=https://wfctxoulksmervtxghwr.supabase.co\r\n// NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY=sb_publishable_P-1TRDahxuSxl8DFcne2cA_b6NHo2Ow\r\n\r\n\r\nexport const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);\r\n","// Utility functions untuk aplikasi pertanahan\r\n\r\nexport function createPageUrl(pageName) {\r\n  return `/${pageName.toLowerCase()}`;\r\n}\r\n\r\nexport function formatDate(date) {\r\n  if (!date) return '-';\r\n  const d = new Date(date);\r\n  return d.toLocaleDateString('id-ID', {\r\n    day: 'numeric',\r\n    month: 'long',\r\n    year: 'numeric'\r\n  });\r\n}\r\n\r\nexport function formatCurrency(amount) {\r\n  if (!amount) return 'Rp 0';\r\n  return new Intl.NumberFormat('id-ID', {\r\n    style: 'currency',\r\n    currency: 'IDR',\r\n    minimumFractionDigits: 0\r\n  }).format(amount);\r\n}\r\n\r\nexport function getStatusColor(status) {\r\n  const colors = {\r\n    'Proses': 'bg-yellow-100 text-yellow-700 border-yellow-200',\r\n    'Selesai': 'bg-green-100 text-green-700 border-green-200',\r\n    'Ditolak': 'bg-red-100 text-red-700 border-red-200',\r\n    'Pending': 'bg-slate-100 text-slate-700 border-slate-200',\r\n  };\r\n  return colors[status] || 'bg-slate-100 text-slate-700 border-slate-200';\r\n}\r\n\r\nexport function truncateText(text, maxLength = 50) {\r\n  if (!text) return '-';\r\n  if (text.length <= maxLength) return text;\r\n  return text.substring(0, maxLength) + '...';\r\n}\r\n\r\nexport function calculateArea(coordinates) {\r\n  // Hitung luas berdasarkan koordinat polygon\r\n  // Simplified version - should use proper geospatial calculation\r\n  if (!coordinates || coordinates.length < 3) return 0;\r\n  // Return area in square meters\r\n  return 0; // Placeholder\r\n}\r\n\r\nexport function validateCoordinates(lat, lng) {\r\n  const latitude = parseFloat(lat);\r\n  const longitude = parseFloat(lng);\r\n  \r\n  if (isNaN(latitude) || isNaN(longitude)) return false;\r\n  if (latitude < -90 || latitude > 90) return false;\r\n  if (longitude < -180 || longitude > 180) return false;\r\n  \r\n  return true;\r\n}\r\n\r\nexport function generateId() {\r\n  return Date.now().toString(36) + Math.random().toString(36).substr(2);\r\n}\r\n","import { clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n","import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"button\"\r\n  return (\r\n    <Comp\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { createPageUrl } from '@/utils';\r\nimport { \r\n  LayoutDashboard, \r\n  // ...existing code...\r\n  FileText, \r\n  Users, \r\n  ClipboardList,\r\n  LogOut,\r\n  ChevronLeft,\r\n  Menu,\r\n  Home,\r\n  Flag,\r\n  UserCircle,\r\n  BookOpen,\r\n  Globe,\r\n  UserCog,\r\n  DatabaseBackupIcon,\r\n  DatabaseZap,\r\n  SortAscIcon,\r\n  Table2Icon\r\n} from 'lucide-react';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n\r\n// Custom SVG icon for Tanah (Field)\r\nconst TanahIcon = (props) => (\r\n  <svg width=\"22\" height=\"22\" viewBox=\"0 0 32 32\" fill=\"none\" {...props}>\r\n    <rect x=\"4\" y=\"20\" width=\"24\" height=\"8\" fill=\"#a3e635\" stroke=\"#65a30d\" strokeWidth=\"2\"/>\r\n    <rect x=\"8\" y=\"12\" width=\"16\" height=\"8\" fill=\"#fde68a\" stroke=\"#f59e42\" strokeWidth=\"2\"/>\r\n    <rect x=\"12\" y=\"6\" width=\"8\" height=\"6\" fill=\"#fbbf24\" stroke=\"#b45309\" strokeWidth=\"2\"/>\r\n  </svg>\r\n);\r\n// ...existing code...\r\nconst GlobeIcon = (props) => (\r\n  <svg width=\"22\" height=\"22\" viewBox=\"0 0 32 32\" fill=\"none\" {...props}>\r\n    <rect x=\"4\" y=\"8\" width=\"8\" height=\"20\" fill=\"#fbbf24\" stroke=\"#b45309\" strokeWidth=\"2\"/>\r\n    <rect x=\"12\" y=\"4\" width=\"8\" height=\"24\" fill=\"#2563eb\" stroke=\"#1e40af\" strokeWidth=\"2\"/>\r\n    <rect x=\"20\" y=\"8\" width=\"8\" height=\"20\" fill=\"#22c55e\" stroke=\"#166534\" strokeWidth=\"2\"/>\r\n  </svg>\r\n);\r\nconst menuItems = [\r\n  { name: 'Dashboard', icon: (props) => <LayoutDashboard {...props} color=\"#38bdf8\" />, page: 'Dashboard' },\r\n  { name: 'Peta Tanah', icon: (props) => <Globe {...props} color=\"#f59e42\" />, page: 'PetaTanah' },\r\n  { name: 'Data Tanah', icon: (props) => <Table2Icon {...props} />, page: 'DataTanah' },\r\n  { name: 'Pejabat', icon: (props) => <UserCircle {...props} color=\"#fbbf24\" />, page: 'Pejabat' },\r\n  { name: 'Laporan', icon: (props) => <BookOpen {...props} color=\"#a3e635\" />, page: 'Laporan' },\r\n  { name: 'Wilayah', icon: (props) => <GlobeIcon {...props} />, page: 'Wilayah' },\r\n  { name: 'Tes Map', icon: (props) => <Globe {...props} color=\"#38bdf8\" />, page: 'TesMap' },\r\n  { name: 'Profil', icon: (props) => <Users {...props} color=\"#818cf8\" />, page: 'Profil' },\r\n  { name: 'Manajemen User', icon: (props) => <UserCog {...props} color=\"#f87171\" />, page: 'ManajemenUser', superAdminOnly: true },\r\n];\r\n\r\nexport default function Sidebar({ collapsed, setCollapsed, user, onLogout }) {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <>\r\n      {/* Mobile overlay */}\r\n      {!collapsed && (\r\n        <div \r\n          className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\r\n          onClick={() => setCollapsed(true)}\r\n        />\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <aside \r\n        className={cn(\r\n          \"fixed top-0 left-0 z-[9999] h-screen bg-gradient-to-b from-purple-900 via-purple-800 to-purple-700 text-white transition-all duration-300 shadow-[0_8px_32px_0_rgba(76,29,149,0.45)]\",\r\n          collapsed ? \"w-0 lg:w-20\" : \"w-72\"\r\n        )}\r\n      >\r\n        <div className={cn(\"flex flex-col h-full\", collapsed && \"hidden lg:flex\")}>\r\n          {/* Logo */}\r\n          <div className=\"flex items-center justify-between p-6 border-b border-blue-800/50\">\r\n            {!collapsed && (\r\n              <div className=\"flex items-center gap-3\">\r\n                <img \r\n                  src={`${import.meta.env.BASE_URL}img/logo_app.png`}\r\n                  alt=\"Logo\"  \r\n                  className=\"w-10 h-10 object-contain\"\r\n                />\r\n                <div>\r\n                  <h1 className=\"text-xl font-bold text-white\">SIGATAN</h1>\r\n                  <p className=\"text-xs text-slate-400\">Sistem Informasi Geospasial Pertanahan</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={() => setCollapsed(!collapsed)}\r\n              className=\"text-slate-400 hover:text-white hover:bg-slate-700\"\r\n            >\r\n              <ChevronLeft className={cn(\"w-5 h-5 transition-transform\", collapsed && \"rotate-180\")} />\r\n            </Button>\r\n          </div>\r\n\r\n          {/* User info */}\r\n          {!collapsed && user && (\r\n            <div className=\"p-4 border-b border-blue-800/50\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg\">\r\n                  <span className=\"text-lg font-bold\">{user.full_name?.[0] || 'U'}</span>\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className=\"text-sm font-medium truncate\">{user?.full_name || user?.username}</p>\r\n                  <p className=\"text-xs text-slate-400 truncate\">{user?.kecamatan && user?.kelurahan}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Menu */}\r\n          <nav className=\"flex-1 p-4 space-y-2 overflow-y-auto\">\r\n            {menuItems.map((item) => {\r\n              if (item.superAdminOnly && user?.role !== 'super_admin') return null;\r\n              const isActive = location.pathname.includes(item.page);\r\n              return (\r\n                <Link\r\n                  key={item.page}\r\n                  to={createPageUrl(item.page)}\r\n                  className={cn(\r\n                    \"flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200\",\r\n                    isActive \r\n                      ? \"bg-blue-600 text-white shadow-lg shadow-blue-500/50\" \r\n                      : \"text-slate-300 hover:bg-blue-700/30 hover:text-white\"\r\n                  )}\r\n                >\r\n                  <span className=\"flex items-center justify-center w-7 h-7 rounded-lg bg-gradient-to-br from-white/10 to-blue-900/30 shadow-inner\">\r\n                    <item.icon className=\"w-5 h-5 flex-shrink-0\" />\r\n                  </span>\r\n                  {!collapsed && <span className=\"font-bold\">{item.name}</span>}\r\n                </Link>\r\n              );\r\n            })}\r\n          </nav>\r\n\r\n          {/* Logout */}\r\n          <div className=\"p-4 border-t border-blue-800/50\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              onClick={onLogout}\r\n              className={cn(\r\n                \"w-full text-slate-300 hover:text-white hover:bg-red-600/30 transition-all duration-200\",\r\n                collapsed ? \"justify-center\" : \"justify-start\"\r\n              )}\r\n            >\r\n              <LogOut className=\"w-5 h-5\" />\r\n              {!collapsed && <span className=\"ml-3\">Keluar</span>}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Mobile toggle button */}\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => setCollapsed(false)}\r\n        className=\"fixed top-4 left-4 z-40 lg:hidden bg-blue-900 text-white hover:bg-blue-800 shadow-lg\"\r\n      >\r\n        <Menu className=\"w-5 h-5\" />\r\n      </Button>\r\n    </>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '@/api/supabaseClient';\r\nimport Sidebar from '@/components/layout/Sidebar';\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Toaster } from \"sonner\";\r\n\r\nexport default function Layout({ children, currentPageName }) {\r\n  const [user, setUser] = useState(null);\r\n  const [collapsed, setCollapsed] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Cek user di localStorage (hasil login)\r\n    const userStr = localStorage.getItem('user');\r\n    if (!userStr) {\r\n      navigate('/login');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    try {\r\n      const userObj = JSON.parse(userStr);\r\n      setUser(userObj);\r\n      setLoading(false);\r\n    } catch (e) {\r\n      localStorage.removeItem('user');\r\n      navigate('/login');\r\n      setLoading(false);\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleLogout = async () => {\r\n    localStorage.removeItem('user');\r\n    navigate('/login');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-slate-600\">Memuat...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen\">\r\n      <Toaster position=\"top-right\" richColors />\r\n      <Sidebar \r\n        collapsed={collapsed}\r\n        setCollapsed={setCollapsed}\r\n        user={user}\r\n        onLogout={handleLogout}\r\n      />\r\n      <main \r\n        className={cn(\r\n          \"transition-all duration-300 min-h-screen\",\r\n          collapsed ? \"lg:ml-20\" : \"lg:ml-72\"\r\n        )}\r\n      >\r\n        <div className=\"p-4 md:p-6 lg:p-8 pt-16 lg:pt-6\">\r\n          {children}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { Toaster } from 'sonner';\r\nimport Layout from './Layout';\r\n\r\n// Pages\r\nconst Dashboard = React.lazy(() => import('./Pages/Dashboard'));\r\nconst DataTanah = React.lazy(() => import('./Pages/DataTanah'));\r\nconst DetailTanah = React.lazy(() => import('./Pages/DetailTanah'));\r\nconst FormTanah = React.lazy(() => import('./Pages/FormTanah'));\r\nconst PetaTanah = React.lazy(() => import('./Pages/PetaTanah'));\r\nconst Pejabat = React.lazy(() => import('./Pages/Pejabat'));\r\nconst Laporan = React.lazy(() => import('./Pages/Laporan'));\r\nconst ManajemenUser = React.lazy(() => import('./Pages/ManajemenUser'));\r\nconst BackupRestore = React.lazy(() => import('./Pages/BackupRestore'));\r\nconst Login = React.lazy(() => import('./Pages/Login'));\r\nconst Test = React.lazy(() => import('./Pages/Test'));\r\nconst Wilayah = React.lazy(() => import('./Pages/Wilayah'));\r\nconst UserProfile = React.lazy(() => import('./Pages/UserProfile'));\r\nconst TesMap = React.lazy(() => import('./Pages/TesMap'));\r\n\r\n// Create query client\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      refetchOnWindowFocus: false,\r\n      retry: 1,\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n    },\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <Toaster position=\"top-right\" richColors />\r\n      <Router>\r\n        <React.Suspense fallback={<div className=\"min-h-screen flex items-center justify-center\">Loading...</div>}>\r\n        <Routes>\r\n          {/* Test route */}\r\n          <Route path=\"/test\" element={<Test />} />\r\n          \r\n          {/* Login route without layout */}\r\n          <Route path=\"/login\" element={<Login />} />\r\n          \r\n          {/* Protected routes with layout */}\r\n          <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\r\n          <Route path=\"/dashboard\" element={<Layout currentPageName=\"Dashboard\"><Dashboard /></Layout>} />\r\n          <Route path=\"/datatanah\" element={<Layout currentPageName=\"Data Tanah\"><DataTanah /></Layout>} />\r\n          <Route path=\"/formtanah\" element={<Layout currentPageName=\"Form Tanah\"><FormTanah /></Layout>} />\r\n          <Route path=\"/detailtanah\" element={<Layout currentPageName=\"Detail Tanah\"><DetailTanah /></Layout>} />\r\n          <Route path=\"/petatanah\" element={<Layout currentPageName=\"Peta Tanah\"><PetaTanah /></Layout>} />\r\n          <Route path=\"/pejabat\" element={<Layout currentPageName=\"Pejabat\"><Pejabat /></Layout>} />\r\n          <Route path=\"/laporan\" element={<Layout currentPageName=\"Laporan\"><Laporan /></Layout>} />\r\n          <Route path=\"/manajemenuser\" element={<Layout currentPageName=\"Manajemen User\"><ManajemenUser /></Layout>} />\r\n          <Route path=\"/backuprestore\" element={<Layout currentPageName=\"Backup & Restore\"><BackupRestore /></Layout>} />\r\n          <Route path=\"/wilayah\" element={<Layout currentPageName=\"Wilayah\"><Wilayah /></Layout>} />\r\n          <Route path=\"/tesmap\" element={<Layout currentPageName=\"Tes Map\"><TesMap /></Layout>} />\r\n          <Route path=\"/profil\" element={<Layout currentPageName=\"Profil Pengguna\"><UserProfile /></Layout>} />\r\n          \r\n          {/* 404 */}\r\n          <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\r\n        </Routes>\r\n        </React.Suspense>\r\n      </Router>\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App.jsx';\r\nimport './index.css';\r\n\r\nimport { createContext } from 'react';\r\nconsole.log('typeof createContext:', typeof createContext);\r\n\r\nif (typeof window !== 'undefined') {\r\n  // ...existing code...\r\n}\r\n\r\nReactDOM.createRoot(document.getElementById('root')).render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n);"],"file":"index-DFbN_dxx.js"}