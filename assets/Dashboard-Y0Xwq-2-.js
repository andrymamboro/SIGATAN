import{r as s,s as a,j as e,v as t,L as l,w as n,U as r,F as c,x as i}from"./vendor-k34wZweL.js";import{g as x}from"./authUser-BiotkqPm.js";import{s as d}from"./db-JbIjIInw.js";import{Card as h,CardHeader as o,CardTitle as m,CardContent as j}from"./card-BUnoPJuu.js";import{B as u}from"./index-DXIltddd.js";import"./pdf-Bn9KpTQO.js";function g(){const[g,N]=s.useState(null);s.useEffect(()=>{(async()=>{const s=await x();N(s)})()},[]);const{data:p=0}=a({queryKey:["user-count"],queryFn:async()=>{const{count:s}=await d.from("users").select("*",{count:"exact",head:!0});return s||0}}),{data:f=0}=a({queryKey:["tanah-count"],queryFn:async()=>{const{count:s}=await d.from("tanah").select("*",{count:"exact",head:!0});return s||0}}),{data:y=0}=a({queryKey:["laporan-count"],queryFn:async()=>{const s=new Date;s.setDate(1),s.setHours(0,0,0,0);const{count:a}=await d.from("laporan").select("*",{count:"exact",head:!0}).gte("created_at",s.toISOString());return a||0}}),{data:w=0}=a({queryKey:["wilayah-count"],queryFn:async()=>{const{count:s}=await d.from("wilayah").select("*",{count:"exact",head:!0});return s||0}});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("header",{className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"/Components/img/logo app.png",alt:"Logo",className:"h-14 w-auto"})," ",e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-2",children:"SIGATAN Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Sistem Informasi Geospasial Pertanahan."}),e.jsxs("p",{className:"text-blue-500",children:[e.jsx(t,{className:"w-4 h-4 inline-block mr-1"}),(g&&g.full_name?` ${g.full_name}`:"")+(g&&g.role?` (${g.role})`:"")]})]})]}),"          ",e.jsx(u,{asChild:!0,className:"mt-4 md:mt-0",children:e.jsxs(l,{to:"/PetaTanah",children:[e.jsx(n,{className:"w-5 h-5 mr-2"})," Lihat Peta Tanah"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(h,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(r,{className:"w-5 h-5"})," Pengguna"]})}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Pengguna"})]})]}),e.jsxs(h,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(c,{className:"w-5 h-5"})," Data Tanah"]})}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Data Tanah"})]})]}),e.jsxs(h,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-yellow-700",children:[e.jsx(i,{className:"w-5 h-5"})," Laporan"]})}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y}),e.jsx("div",{className:"text-xs text-gray-500",children:"Laporan Bulan Ini"})]})]}),e.jsxs(h,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-purple-700",children:[e.jsx(n,{className:"w-5 h-5"})," Wilayah"]})}),e.jsxs(j,{children:[e.jsx("div",{className:"text-2xl font-bold",children:w}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Wilayah"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(l,{to:"/DataTanah",children:e.jsxs(h,{className:"hover:shadow-lg transition",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5"})," Data Tanah"]})}),e.jsx(j,{children:e.jsx("div",{className:"text-gray-600",children:"Kelola dan lihat data pertanahan."})})]})}),e.jsx(l,{to:"/Laporan",children:e.jsxs(h,{className:"hover:shadow-lg transition",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(i,{className:"w-5 h-5"})," Laporan"]})}),e.jsx(j,{children:e.jsx("div",{className:"text-gray-600",children:"Buat dan unduh laporan pertanahan."})})]})}),e.jsx(l,{to:"/ManajemenUser",children:e.jsxs(h,{className:"hover:shadow-lg transition",children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(r,{className:"w-5 h-5"})," Manajemen User"]})}),e.jsx(j,{children:e.jsx("div",{className:"text-gray-600",children:"Kelola akun dan hak akses pengguna."})})]})})]})]})})}export{g as default};
//# sourceMappingURL=Dashboard-Y0Xwq-2-.js.map
