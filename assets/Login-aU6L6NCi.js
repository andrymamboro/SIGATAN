import{r as e,k as s,j as t,R as a,X as r,aH as l,V as o}from"./vendor-B-UrjPD3.js";import{Card as i,CardHeader as n,CardTitle as d,CardDescription as c,CardContent as m}from"./card-iZaV0svU.js";import{s as u}from"./db-BLqj6fe8.js";import{g as x}from"./authUser-CgjMIivx.js";import"./index-DFbN_dxx.js";import"./pdf-Dy1nE1k0.js";const p=a.forwardRef(({className:e,...s},a)=>t.jsx("input",{ref:a,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,...s}));p.displayName="Input";const h=a.forwardRef(({className:e,children:s,...a},r)=>t.jsx("button",{ref:r,className:`inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 ${e||""}`,...a,children:s}));h.displayName="Button";const b=a.forwardRef(({className:e,...s},a)=>t.jsx("label",{ref:a,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e||""}`,...s}));function f(){const[a,f]=e.useState(""),[w,g]=e.useState(""),[j,v]=e.useState(!1),[N,k]=e.useState(!1),y=s();return t.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 flex items-center justify-center p-4 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-slate-500/20 rounded-full blur-3xl"})]}),t.jsxs(i,{className:"w-full max-w-4xl flex flex-col md:flex-row items-center justify-center relative z-10 bg-gradient-to-r from-purple-700 via-purple-800 to-purple-900 shadow-2xl border-0 backdrop-blur-sm p-0 md:p-8",children:[t.jsxs("div",{className:"flex flex-col items-center justify-center md:w-1/2 w-full mb-8 md:mb-0 md:pr-8 text-white text-center",children:[t.jsx("img",{src:"/SIGATAN/img/logo_app.png",alt:"Logo SIGATAN",className:"w-56 h-56 object-contain drop-shadow-[0_8px_32px_rgba(0,0,0,0.6)] mx-auto"}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2 drop-shadow-[0_4px_16px_rgba(0,0,0,0.7)] mt-4 md:mt-6",children:"SIGATAN"}),t.jsx("p",{className:"text-purple-100 text-lg md:text-xl drop-shadow-[0_2px_8px_rgba(0,0,0,0.7)]",children:"Sistem Informasi Geospasial Pertanahan"})]}),t.jsxs("div",{className:"w-full md:w-1/2 max-w-md text-white border-l md:border-l-1 md:pl-8",children:[t.jsxs(i,{className:"border-0 shadow-none bg-transparent p-0",children:[t.jsxs(n,{className:"space-y-1 pb-6 pt-8",children:[t.jsx(d,{className:"text-2xl text-center font-bold text-white",children:"Selamat Datang"}),t.jsx(c,{className:"text-center text-white",children:"Silakan masuk dengan akun Anda"})]}),t.jsxs(m,{className:"px-8 pb-8",children:[t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a&&w){k(!0);try{let e=a;if(!a.includes("@")){const{data:s,error:t}=await u.from("users").select("email").or(`username.eq.${a},no_hp.eq.${a}`).single();if(t||!s)return o.error("Username/email tidak ditemukan"),void k(!1);e=s.email}const{error:s}=await u.auth.signInWithPassword({email:e,password:w});if(s)return o.error("Login gagal: "+s.message),void k(!1);const t=await x();if(!t)return o.error("User tidak ditemukan di database"),void k(!1);localStorage.setItem("user",JSON.stringify(t)),o.success("Login berhasil!"),setTimeout(()=>{y("/dashboard")},500)}catch(s){o.error("Terjadi kesalahan saat login"),console.error("Login error:",s)}finally{k(!1)}}else o.error("Username dan password harus diisi")},children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(b,{htmlFor:"username",className:"font-semibold text-white",children:"Username"}),t.jsxs("div",{className:"relative",children:[t.jsx(r,{className:"absolute left-3 top-3.5 h-5 w-5 text-blue-500"}),t.jsx(p,{id:"username",type:"text",placeholder:"Masukkan username",value:a,onChange:e=>f(e.target.value),className:"pl-11 h-12 border-slate-300 focus:border-blue-500 focus:ring-blue-500 text-white",required:!0,disabled:N})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(b,{htmlFor:"password",className:"font-semibold text-white",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(l,{className:"absolute left-3 top-3.5 h-5 w-5 text-blue-500"}),t.jsx(p,{id:"password",type:j?"text":"password",placeholder:"Masukkan password",value:w,onChange:e=>g(e.target.value),className:"pl-11 h-12 border-slate-300 focus:border-blue-500 focus:ring-blue-500 text-white",required:!0,disabled:N}),t.jsx("button",{type:"button",className:"absolute right-3 top-3.5 h-5 w-5 text-blue-500 focus:outline-none",onClick:()=>v(e=>!e),tabIndex:-1,children:j?t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.956 9.956 0 012.907-4.568M6.634 6.634A9.956 9.956 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.96 9.96 0 01-4.338 5.223M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18"})]})})]})]}),t.jsx(h,{type:"submit",className:" mt-4 w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 h-12 text-base font-semibold shadow-lg hover:shadow-xl transition-all duration-200",disabled:N,children:N?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"Memproses..."})]}):t.jsx("span",{className:"text-white",children:"Masuk"})})]}),t.jsx("div",{className:"mt-6 text-center text-sm",children:t.jsxs("p",{className:"flex items-center justify-center gap-2 text-white",children:[t.jsx(l,{className:"w-4 h-4 text-white"}),"Login aman dan terenkripsi"]})})]})]}),t.jsx("div",{className:"text-center mt-6 text-sm",children:t.jsx("p",{children:"Â© 2025 andrimamboro web development. All rights reserved."})})]})]})]})}b.displayName="Label";export{f as default};
//# sourceMappingURL=Login-aU6L6NCi.js.map
