{"version":3,"file":"Pejabat-CQyjkhPW.js","sources":["../../Pages/Pejabat.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '@/api/db';\r\nimport { getCurrentUser } from '@/api/authUser';\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { \r\n  Users, \r\n  Plus, \r\n  Search, \r\n  Pencil, \r\n  Trash2,\r\n  UserCheck,\r\n  Building\r\n} from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { toast } from 'sonner';\r\n\r\nconst JABATAN_OPTIONS = [\r\n  'Camat',\r\n  'Lurah',\r\n  'Kasi Pemerintahan',\r\n  'Staf Administrasi Kecamatan'\r\n];\r\n\r\nexport default function Pejabat() {\r\n  const [user, setUser] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterJabatan, setFilterJabatan] = useState('all');\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingPejabat, setEditingPejabat] = useState(null);\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    kecamatan: '',\r\n    kelurahan: '',\r\n    nama: '',\r\n    jabatan: '',\r\n    nip: '',\r\n    selaku: '',\r\n    aktif: true\r\n  });\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  useEffect(() => {\r\n    // ...existing code...\r\n    const getUser = async () => {\r\n      const { data: { user: authUser } } = await supabase.auth.getUser();\r\n      if (authUser) {\r\n        const { data: userApp } = await supabase\r\n          .from('users')\r\n          .select('*')\r\n          .eq('auth_id', authUser.id)\r\n          .single();\r\n        setUser(userApp);\r\n      }\r\n    };\r\n    getUser();\r\n  }, []);\r\n\r\n  const { data: pejabatList = [], isLoading } = useQuery({\r\n    queryKey: ['pejabat'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase.from('pejabat').select('*');\r\n      if (error) throw new Error(error.message);\r\n      return data || [];\r\n    },\r\n  });\r\n\r\n  const { data: wilayahList = [] } = useQuery({\r\n    queryKey: ['wilayah'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase.from('wilayah').select('*');\r\n      if (error) throw new Error(error.message);\r\n      return data || [];\r\n    },\r\n  });\r\n\r\n  const createMutation = useMutation({\r\n    mutationFn: async (data) => {\r\n      const { error } = await supabase.from('pejabat').insert([data]);\r\n      if (error) throw new Error(error.message);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['pejabat']);\r\n      setShowForm(false);\r\n      resetForm();\r\n      toast.success('Data pejabat berhasil ditambahkan');\r\n    },\r\n  });\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: async ({ id, data }) => {\r\n      const { error } = await supabase.from('pejabat').update(data).eq('id', id);\r\n      if (error) throw new Error(error.message);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['pejabat']);\r\n      setShowForm(false);\r\n      setEditingPejabat(null);\r\n      resetForm();\r\n      toast.success('Data pejabat berhasil diperbarui');\r\n    },\r\n  });\r\n\r\n  const deleteMutation = useMutation({\r\n    mutationFn: async (id) => {\r\n      const { error } = await supabase.from('pejabat').delete().eq('id', id);\r\n      if (error) throw new Error(error.message);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['pejabat']);\r\n      setDeleteId(null);\r\n      toast.success('Data pejabat berhasil dihapus');\r\n    },\r\n  });\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      kecamatan: '',\r\n      kelurahan: '',\r\n      nama: '',\r\n      jabatan: '',\r\n      nip: '',\r\n      selaku: '',\r\n      aktif: true\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (editingPejabat) {\r\n      updateMutation.mutate({ id: editingPejabat.id, data: formData });\r\n    } else {\r\n      createMutation.mutate(formData);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (pejabat) => {\r\n    setEditingPejabat(pejabat);\r\n    setFormData({\r\n      kecamatan: pejabat.kecamatan || '',\r\n      kelurahan: pejabat.kelurahan || '',\r\n      nama: pejabat.nama || '',\r\n      jabatan: pejabat.jabatan || '',\r\n      nip: pejabat.nip || '',\r\n      selaku: pejabat.selaku || '',\r\n      aktif: pejabat.aktif !== false\r\n    });\r\n    setShowForm(true);\r\n  };\r\n\r\n  const kecamatanOptions = [...new Set(wilayahList.map(w => w.kecamatan))];\r\n  const kelurahanOptions = formData.kecamatan \r\n    ? [...new Set(wilayahList.filter(w => w.kecamatan === formData.kecamatan).map(w => w.kelurahan))]\r\n    : [];\r\n\r\n  const filteredPejabat = pejabatList.filter(pejabat => {\r\n    const matchSearch = pejabat.nama?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                        pejabat.nip?.includes(searchTerm) ||\r\n                        pejabat.kecamatan?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchJabatan = filterJabatan === 'all' || pejabat.jabatan === filterJabatan;\r\n    return matchSearch && matchJabatan;\r\n  });\r\n\r\n  const jabatanColors = {\r\n    'Camat': 'bg-purple-100 text-purple-700',\r\n    'Lurah': 'bg-blue-100 text-blue-700',\r\n    'Kasi Pemerintahan': 'bg-emerald-100 text-emerald-700',\r\n    'Staf Administrasi Kecamatan': 'bg-orange-100 text-orange-700'\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-slate-800 flex items-center gap-3\">\r\n            <Users className=\"w-8 h-8 text-blue-600\" />\r\n            Data Pejabat\r\n          </h1>\r\n          <p className=\"text-slate-500 mt-1\">\r\n            Kelola data pejabat penanda tangan\r\n          </p>\r\n        </div>\r\n        <Button \r\n          onClick={() => {\r\n            setEditingPejabat(null);\r\n            resetForm();\r\n            setShowForm(true);\r\n          }}\r\n          className=\"bg-blue-600 hover:bg-blue-900 text-white\"\r\n        >\r\n          <Plus className=\"w-4 h-4 mr-2\" />\r\n          Tambah Pejabat\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"border-0 shadow-md\">\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            <div className=\"flex-1 relative\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n              <Input\r\n                placeholder=\"Cari nama, NIP, atau kecamatan...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <Select value={filterJabatan} onValueChange={setFilterJabatan}>\r\n              <SelectTrigger className=\"w-full md:w-64\">\r\n                <SelectValue placeholder=\"Filter Jabatan\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">Semua Jabatan</SelectItem>\r\n                {JABATAN_OPTIONS.map(j => (\r\n                  <SelectItem key={j} value={j}>{j}</SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Data Table */}\r\n      <Card className=\"border-0 shadow-lg\">\r\n        <CardContent className=\"p-0\">\r\n          {filteredPejabat.length === 0 ? (\r\n            <div className=\"p-12 text-center\">\r\n              <Users className=\"w-12 h-12 text-slate-300 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-slate-600\">Belum ada data pejabat</h3>\r\n              <p className=\"text-slate-400 mt-1\">Klik tombol \"Tambah Pejabat\" untuk menambahkan data baru</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-gradient-to-r from-slate-50 to-slate-100 border-b-2 border-slate-200\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\r\n                      No\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\r\n                      Nama & NIP\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\r\n                      Jabatan\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\r\n                      Wilayah\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider\">\r\n                      Selaku\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-center text-xs font-semibold text-slate-700 uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-center text-xs font-semibold text-slate-700 uppercase tracking-wider\">\r\n                      Aksi\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-slate-100\">\r\n                  <AnimatePresence>\r\n                    {filteredPejabat.map((pejabat, index) => (\r\n                      <motion.tr\r\n                        key={pejabat.id}\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        exit={{ opacity: 0, x: 20 }}\r\n                        transition={{ delay: index * 0.03 }}\r\n                        className=\"hover:bg-slate-50 transition-colors duration-150\"\r\n                      >\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-slate-600\">\r\n                          {index + 1}\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-md flex-shrink-0\">\r\n                              <span className=\"text-white text-sm font-bold\">\r\n                                {pejabat.nama?.charAt(0).toUpperCase() || 'P'}\r\n                              </span>\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"text-sm font-semibold text-slate-800\">{pejabat.nama}</p>\r\n                              <p className=\"text-xs text-slate-500\">NIP: {pejabat.nip || '-'}</p>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <Badge className={jabatanColors[pejabat.jabatan] || 'bg-slate-100 text-slate-700'}>\r\n                            {pejabat.jabatan}\r\n                          </Badge>\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <div className=\"flex items-start gap-2\">\r\n                            <Building className=\"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"text-sm text-slate-600\">\r\n                              <p className=\"font-medium\">{pejabat.kecamatan}</p>\r\n                              {pejabat.kelurahan && (\r\n                                <p className=\"text-slate-500\">{pejabat.kelurahan}</p>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 text-sm text-slate-600\">\r\n                          {pejabat.selaku || '-'}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-center\">\r\n                          <Badge className={pejabat.aktif !== false \r\n                            ? 'bg-green-100 text-green-700 border-green-200' \r\n                            : 'bg-red-100 text-red-700 border-red-200'\r\n                          }>\r\n                            {pejabat.aktif !== false ? 'Aktif' : 'Non-aktif'}\r\n                          </Badge>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-center\">\r\n                          <div className=\"flex items-center justify-center gap-2\">\r\n                            <Button \r\n                              variant=\"ghost\" \r\n                              size=\"sm\"\r\n                              onClick={() => handleEdit(pejabat)}\r\n                              className=\"text-orange-600 hover:text-orange-700 hover:bg-orange-50\"\r\n                            >\r\n                              <Pencil className=\"w-4 h-4\" />\r\n                            </Button>\r\n                            <Button \r\n                              variant=\"ghost\" \r\n                              size=\"sm\"\r\n                              onClick={() => setDeleteId(pejabat.id)}\r\n                              className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n                            >\r\n                              <Trash2 className=\"w-4 h-4\" />\r\n                            </Button>\r\n                          </div>\r\n                        </td>\r\n                      </motion.tr>\r\n                    ))}\r\n                  </AnimatePresence>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Form Dialog */}\r\n      <Dialog open={showForm} onOpenChange={setShowForm}>\r\n        <DialogContent className=\"max-w-lg\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl\">\r\n              {editingPejabat ? 'Edit Data Pejabat' : 'Tambah Pejabat Baru'}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <form onSubmit={handleSubmit} className=\"space-y-4 mt-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>Kecamatan *</Label>\r\n                <Select \r\n                  value={formData.kecamatan} \r\n                  onValueChange={(v) => setFormData({ ...formData, kecamatan: v, kelurahan: '' })}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Pilih Kecamatan\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {kecamatanOptions.map(k => (\r\n                      <SelectItem key={k} value={k}>{k}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>Kelurahan</Label>\r\n                <Select \r\n                  value={formData.kelurahan} \r\n                  onValueChange={(v) => setFormData({ ...formData, kelurahan: v })}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Pilih Kelurahan\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {kelurahanOptions.map(k => (\r\n                      <SelectItem key={k} value={k}>{k}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>Nama Pejabat *</Label>\r\n              <Input\r\n                value={formData.nama}\r\n                onChange={(e) => setFormData({ ...formData, nama: e.target.value })}\r\n                placeholder=\"Nama lengkap\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>Jabatan *</Label>\r\n              <Select \r\n                value={formData.jabatan} \r\n                onValueChange={(v) => setFormData({ ...formData, jabatan: v })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Pilih Jabatan\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {JABATAN_OPTIONS.map(j => (\r\n                    <SelectItem key={j} value={j}>{j}</SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>NIP</Label>\r\n              <Input\r\n                value={formData.nip}\r\n                onChange={(e) => setFormData({ ...formData, nip: e.target.value })}\r\n                placeholder=\"Nomor Induk Pegawai\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>Selaku</Label>\r\n              <Input\r\n                value={formData.selaku}\r\n                onChange={(e) => setFormData({ ...formData, selaku: e.target.value })}\r\n                placeholder=\"Contoh: Pengelola Data Pertanahan\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setShowForm(false)}>\r\n                Batal\r\n              </Button>\r\n              <Button \r\n                type=\"submit\" \r\n                className=\"bg-blue-600 hover:bg-blue-700\"\r\n                disabled={createMutation.isPending || updateMutation.isPending}\r\n              >\r\n                {createMutation.isPending || updateMutation.isPending ? 'Menyimpan...' : 'Simpan'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation */}\r\n      <AlertDialog open={!!deleteId} onOpenChange={() => setDeleteId(null)}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Hapus Data Pejabat?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Tindakan ini tidak dapat dibatalkan. Data pejabat akan dihapus secara permanen.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Batal</AlertDialogCancel>\r\n            <AlertDialogAction \r\n              onClick={() => deleteMutation.mutate(deleteId)}\r\n              className=\"bg-red-600 hover:bg-red-700\"\r\n            >\r\n              Hapus\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n}"],"names":["JABATAN_OPTIONS","Pejabat","user","setUser","useState","searchTerm","setSearchTerm","filterJabatan","setFilterJabatan","showForm","setShowForm","editingPejabat","setEditingPejabat","deleteId","setDeleteId","formData","setFormData","queryClient","useQueryClient","useEffect","authUser","supabase","userApp","pejabatList","isLoading","useQuery","data","error","wilayahList","createMutation","useMutation","resetForm","toast","updateMutation","id","deleteMutation","handleSubmit","e","handleEdit","pejabat","kecamatanOptions","w","kelurahanOptions","filteredPejabat","matchSearch","matchJabatan","jabatanColors","jsxs","jsx","Users","Button","Plus","Card","CardContent","Search","Input","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","j","AnimatePresence","index","motion","Badge","Building","Pencil","Trash2","Dialog","DialogContent","DialogHeader","DialogTitle","Label","v","k","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"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"}