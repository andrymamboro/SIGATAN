import{r as e,s as r}from"./vendor-k34wZweL.js";import{s as a}from"./db-JbIjIInw.js";import{g as n}from"./authUser-BiotkqPm.js";function o(){const[r,a]=e.useState(null);return e.useEffect(()=>{(async()=>{const e=await n();a(e)})()},[]),r}function t(e){return r({queryKey:["tanah-peta",e?.kecamatan,e?.kelurahan,e?.role,e?.nik],queryFn:async()=>{if(!e)return[];let r=a.from("tanah").select("*");if("super_admin"===e.role);else if("admin_kecamatan"===e.role)r=r.eq("kecamatan",e.kecamatan);else if("admin_kelurahan"===e.role)r=r.eq("kelurahan",e.kelurahan);else{if("member"!==e.role)return[];r=r.or(`nik_pemilik.eq.${e.nik},nik_penerima.eq.${e.nik}`)}const{data:n,error:o}=await r;if(o)throw new Error(o.message);return n||[]},enabled:!!e})}function s(e,r){return"Selesai"===e?{color:"transparent",borderColor:"#EAB308"}:"Ditolak"===e?{color:"transparent",borderColor:"#b91c1c"}:{color:"transparent",borderColor:"#1d4ed8"}}export{t as a,s as g,o as u};
//# sourceMappingURL=utils-96xLyqgc.js.map
