{"version":3,"file":"DetailTanah-C_p5XRGb.js","sources":["../../Pages/DetailTanah.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { supabase } from '@/api/db';\r\nimport { getCurrentUser } from '@/api/authUser';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport {\r\n  ArrowLeft,\r\n  User,\r\n  MapPin,\r\n  FileText,\r\n  UserPlus,\r\n  Printer,\r\n  QrCode,\r\n  Map,\r\n  Home,\r\n  Banknote,\r\n  BanknoteIcon,\r\n  CreditCardIcon,\r\n\r\n  Contact2Icon,\r\n  ArrowUp,\r\n  ArrowDown,\r\n  ArrowRight,\r\n  ArrowBigRightDash,\r\n  ArrowBigRight,\r\n  ArrowBigDown,\r\n  ArrowBigUp,\r\n  ArrowBigLeft,\r\n  CalendarCheck2,\r\n  UserPlus2Icon,\r\n  User2,\r\n  LucideUserRoundPlus,\r\n  ArrowLeftRight,\r\n  TagsIcon,\r\n  Calendar,\r\n  PenIcon,\r\n  Signpost,\r\n  ListFilterIcon,\r\n  ListOrderedIcon,\r\n  CheckCircle2,\r\n  BookIcon,\r\n  AwardIcon,\r\n  CheckIcon,\r\n  CheckSquare2\r\n\r\n\r\n} from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { createPageUrl } from '@/utils';\r\nimport { format } from 'date-fns';\r\nimport { id } from 'date-fns/locale';\r\n// Map/leaflet component removed\r\n\r\nexport default function DetailTanah() {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const tanahId = urlParams.get('id');\r\n\r\n  const { data: tanah, isLoading } = useQuery({\r\n    queryKey: ['tanah-detail', tanahId],\r\n    queryFn: async () => {\r\n      if (!tanahId) return null;\r\n      const { data, error } = await supabase.from('tanah').select('*').eq('id', tanahId).single();\r\n      if (error) throw new Error(error.message);\r\n      // Parse polygon_coords if string\r\n      if (data && data.polygon_coords && typeof data.polygon_coords === 'string') {\r\n        try {\r\n          data.polygon_coords = JSON.parse(data.polygon_coords);\r\n        } catch (e) {\r\n          console.error('Failed to parse polygon_coords:', e);\r\n          data.polygon_coords = null;\r\n        }\r\n      }\r\n      return data;\r\n    },\r\n    enabled: !!tanahId,\r\n  });\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n      style: 'currency',\r\n      currency: 'IDR',\r\n      minimumFractionDigits: 0\r\n    }).format(amount || 0);\r\n  };\r\n\r\n  const formatDate = (date, short = false) => {\r\n    if (!date) return '-';\r\n    try {\r\n      const dateObj = new Date(date);\r\n      if (isNaN(dateObj.getTime())) return '-';\r\n      if (short) {\r\n        // dd/MM/yy\r\n        const day = String(dateObj.getDate()).padStart(2, '0');\r\n        const month = String(dateObj.getMonth() + 1).padStart(2, '0');\r\n        const year = String(dateObj.getFullYear()).slice(-2);\r\n        return `${day}/${month}/${year}`;\r\n      }\r\n      return format(dateObj, 'dd MMMM yyyy', { locale: id });\r\n    } catch (error) {\r\n      return '-';\r\n    }\r\n  };\r\n\r\n  const qrValue = tanah?.latitude && tanah?.longitude\r\n    ? `https://www.google.com/maps?q=${tanah.latitude},${tanah.longitude}`\r\n    : '';\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[50vh]\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!tanah) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <h2 className=\"text-xl font-semibold text-white\">Data tidak ditemukan</h2>\r\n        <Link to={createPageUrl('DataTanah')}>\r\n          <Button className=\"mt-4\">Kembali ke Data Tanah</Button>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  // InfoRow default\r\n  const InfoRow = ({ label, value, icon: Icon, className }) => (\r\n    <div className={`p-2 flex items-center py-2 border border-b-4 border-slate-300 rounded-md bg-white mb-2 shadow-sm ${className || ''}`}>\r\n      {Icon && <Icon className=\"w-4 h-4 text-blue-500 mr-2\" />}\r\n      <span className=\"w-1/3 text-slate-800 text-sm flex items-center font-semibold\">{label}</span>\r\n      <span className=\"w-2/3 text-slate-800 font-medium\">{value || '-'}</span>\r\n    </div>\r\n  );\r\n\r\n  // InfoRow khusus status\r\n  const InfoRowStatus = ({ label, value, icon: Icon }) => {\r\n    let bg = 'bg-blue-100 text-blue-800';\r\n    if (value === 'Selesai') bg = 'bg-emerald-100 text-emerald-800';\r\n    else if (value === 'Ditolak') bg = 'bg-red-100 text-red-800';\r\n    return (\r\n      <div className={`p-2 flex items-center py-2 border border-b-4 border-slate-300 rounded-md mb-2 shadow-sm ${bg}`}>\r\n        {Icon && <Icon className=\"w-4 h-4 mr-2\" />}\r\n        <span className=\"w-1/3 text-sm flex items-center font-semibold\">{label}</span>\r\n        <span className=\"w-2/3 font-medium\">{value || '-'}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const InfoRow2 = ({ label, value, icon: Icon }) => (\r\n    <div className=\"flex items-start text-align-start\">\r\n      {Icon && <Icon className=\"w-4 h-4 text-emerald-500 mr-2\" />}\r\n      <span className=\"w-1/3 text-slate-500 text-xs \">{label}</span>\r\n      <span className=\"w-2/3 text-slate-500 text-xs truncate whitespace-nowrap overflow-hidden min-w-[180px]\">{value || '-'}</span>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <Link to={createPageUrl('DataTanah')}>\r\n            <Button variant=\"outline\" size=\"icon\">\r\n              <ArrowLeft className=\"w-4 h-4 text-white\" />\r\n            </Button>\r\n          </Link>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-white\">Detail Data Tanah</h1>\r\n\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Badge\r\n            className={`px-4 py-2 text-sm font-semibold rounded-lg shadow-sm border-1 border-white transition-all duration-200\r\n              ${tanah.status === 'Selesai' ? 'bg-yellow-500 text-yellow-900 border-yellow' :\r\n                tanah.status === 'Ditolak' ? 'bg-red-100 text-red-700 border-red-200' :\r\n                  tanah.status === 'Proses' ? 'bg-blue-100 text-blue-700 border-blue-200' :\r\n                    'bg-slate-100 text-slate-500 border-slate-200'}\r\n            `}\r\n          >\r\n            {/* Optionally add status icons here if needed */}\r\n            {tanah.status || 'Proses'}\r\n          </Badge>\r\n          <Link to={createPageUrl('Laporan') + `?id=${tanah.id}`}>\r\n            <Button className=\"bg-blue-600 hover:bg-blue-700 border-2 border-white\" variant=\"outline\">\r\n              <Printer className=\"w-4 h-4 mr-2\" />\r\n              Cetak Surat\r\n            </Button>\r\n          </Link>\r\n          <Link to={createPageUrl('FormTanah') + `?id=${tanah.id}`}>\r\n            <Button className=\"bg-orange-500 hover:bg-orange-600 border-2 border-white\" variant=\"outline\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"w-4 h-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a4 4 0 01-1.414.828l-4 1a1 1 0 01-1.263-1.263l1-4a4 4 0 01.828-1.414z\" /></svg>\r\n              Edit\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress Bar as Tabs Trigger */}\r\n      <Tabs defaultValue=\"pemilik\" className=\"w-full mb-4\">\r\n        <TabsList className=\"w-full flex flex-col items-center mb-6 bg-transparent p-0 border-none shadow-none\">\r\n          <div className=\"flex w-full max-w-2xl justify-between items-center gap-2\">\r\n            {[\r\n              { label: 'Pemilik', value: 'pemilik', icon: User, },\r\n              { label: 'Tanah', value: 'tanah', icon: MapPin },\r\n              { label: 'Dokumen', value: 'dokumen', icon: FileText },\r\n            ].map((tab, idx, arr) => (\r\n              <React.Fragment key={tab.value}>\r\n                <TabsTrigger\r\n                  value={tab.value}\r\n                  className={`flex flex-col items-center flex-1 focus:outline-none group bg-transparent border-none shadow-none p-0  transition-all`}\r\n                >\r\n                  <div\r\n                    className={`rounded-full w-8 h-8 flex items-center justify-center font-bold border-2 transition-all duration-200 mb-1\r\n                    bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white border-white scale-110 shadow-lg`}\r\n                  >\r\n                    {idx + 1}\r\n                  </div>\r\n                  <span className={`text-xs font-medium flex items-center gap-1 text-white`}>\r\n                    {tab.icon && <tab.icon className=\"w-4 h-4\" />} {tab.label}\r\n                  </span>\r\n                </TabsTrigger>\r\n                {idx < arr.length - 1 && (\r\n                  <div className={`flex-1 h-1 mx-1 rounded bg-gradient-to-r from-slate-900 via-slate-800 to-blue-900`}></div>\r\n                )}\r\n              </React.Fragment>\r\n            ))}\r\n          </div>\r\n        </TabsList >\r\n\r\n        <TabsContent value=\"pemilik\">\r\n          <Card className=\"border-0 shadow-md\">\r\n            <CardHeader className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-t-lg\">\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <User className=\"w-5 h-5\" />\r\n                Data Pemilik & Tanah\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-lg font-semibold bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-md p-2 mb-4\">Pemilik</p>\r\n                <InfoRow label=\"Nama Lengkap\" value={tanah.nama_pemilik} icon={User} />\r\n                <InfoRow label=\"NIK\" value={tanah.nik_pemilik} icon={CreditCardIcon} />\r\n                <InfoRow label=\"Umur\" value={tanah.umur_pemilik ? `${tanah.umur_pemilik} Tahun` : '-'} icon={CalendarCheck2} />\r\n                <InfoRow label=\"Pekerjaan\" value={tanah.pekerjaan_pemilik} icon={TagsIcon} />\r\n                <InfoRow label=\"Alamat\" value={tanah.alamat_pemilik} icon={Home} />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-lg font-semibold bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-md p-2 mb-4\">Penerima</p>\r\n                <InfoRow label=\"Nama Penerima\" value={tanah.nama_penerima} icon={User} />\r\n                <InfoRow label=\"Atas Nama\" value={tanah.atas_nama ? `${tanah.atas_nama}` : '-'} icon={UserPlus2Icon} />\r\n                <InfoRow label=\"NIK\" value={tanah.nik_penerima} icon={CreditCardIcon} />\r\n                <InfoRow label=\"Umur\" value={tanah.umur_penerima ? `${tanah.umur_penerima} Tahun` : '-'} icon={CalendarCheck2} />\r\n                <InfoRow label=\"Pekerjaan\" value={tanah.pekerjaan_penerima} icon={TagsIcon} />\r\n                <InfoRow label=\"Alamat\" value={tanah.alamat_penerima} icon={Home} />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-lg font-semibold bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-md p-2 mb-4\">Data Tanah</p>\r\n                <InfoRow label=\"Lokasi\" value={tanah.lokasi} icon={MapPin} />\r\n                <InfoRow label=\"Kecamatan\" value={tanah.kecamatan} icon={MapPin} />\r\n                <InfoRow label=\"Kelurahan\" value={tanah.kelurahan} icon={MapPin} />\r\n                <InfoRow label=\"Luas (P x L)\" value={tanah.luas_perkalian} icon={Map} />\r\n                <InfoRow label=\"Luas (m²)\" value={tanah.luas_meter ? `${tanah.luas_meter} m²` : '-'} icon={Map} />\r\n                <InfoRow label=\"Luas Terbilang\" value={tanah.luas_terbilang} icon={FileText} />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-lg font-semibold bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-md p-2 mb-4\">Batas Batas</p>\r\n                <InfoRow label=\"Batas Utara\" value={tanah.batas_utara || '-'} icon={ArrowBigUp} />\r\n                <InfoRow label=\"Batas Timur\" value={tanah.batas_timur || '-'} icon={ArrowBigRight} />\r\n                <InfoRow label=\"Batas Selatan\" value={tanah.batas_selatan || '-'} icon={ArrowBigDown} />\r\n                <InfoRow label=\"Batas Barat\" value={tanah.batas_barat || '-'} icon={ArrowBigLeft} />\r\n                <p className=\"text-lg font-semibold bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-md p-2 mb-4\">Transaksi</p>\r\n                <InfoRow label=\"Jenis Transaksi\" value={tanah.transaksi} icon={ArrowLeftRight} />\r\n                <InfoRow label=\"Harga\" value={tanah.harga ? formatCurrency(tanah.harga) : '-'} icon={Banknote} />\r\n                <InfoRow label=\"Harga Terbilang\" value={tanah.harga_terbilang} icon={FileText} />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"tanah\">\r\n          <div className=\"grid gap-6\">\r\n            {/* Card Data Tanah */}\r\n            <Card className=\"border-0 shadow-lg\">\r\n              <CardHeader className=\"bg-gradient-to-r from-blue-900 to-blue-950 text-white rounded-t-lg\">\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <MapPin className=\"w-5 h-5\" />\r\n                  Lokasi Pada Peta\r\n                </CardTitle>\r\n              </CardHeader>\r\n              {/* Komponen peta telah dihapus */}\r\n            </Card>\r\n            {qrValue && (\r\n              <Card className=\"border-0 shadow-lg\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2 text-slate-800\">\r\n                    <QrCode className=\"w-5 h-5 text-blue-600\" />\r\n                    QR Code Koordinat\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"flex flex-col items-center p-6\">\r\n                  <img\r\n                    src={`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(qrValue)}`}\r\n                    alt=\"QR Code Koordinat\"\r\n                    className=\"mb-4\"\r\n                  />\r\n                  <p className=\"text-sm text-slate-500\">\r\n                    Lat: {tanah.latitude}, Long: {tanah.longitude}\r\n                  </p>\r\n                  <a\r\n                    href={qrValue}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-blue-600 hover:underline text-sm mt-2\"\r\n                  >\r\n                    Buka di Google Maps\r\n                  </a>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"dokumen\">\r\n          <Card className=\"border-0 shadow-lg\">\r\n            <CardHeader className=\"bg-gradient-to-r from-blue-900 to-blue-950 text-white rounded-t-lg\">\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <FileText className=\"w-5 h-5\" />\r\n                Data Dokumen\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6 flex flex-wrap gap-4 md:gap-8 text-bold\">\r\n              <div className=\"flex-1 min-w-[220px]\">\r\n                <InfoRow label=\"Nomor SKPT\" value={tanah.nomor_skpt} icon={ListOrderedIcon} />\r\n                <InfoRow label=\"Tanggal SKPT\" value={formatDate(tanah.tanggal_skpt)} icon={Calendar} />\r\n                <InfoRow label=\"Nomor Penyerahan\" value={tanah.nomor_penyerahan} icon={ListOrderedIcon} />\r\n                <InfoRow label=\"Tanggal Penyerahan\" value={formatDate(tanah.tanggal_penyerahan)} icon={Calendar} />\r\n                <InfoRowStatus label=\"Status\" value={tanah.status} icon={CheckCircle2} />\r\n              </div>\r\n              <div className=\"flex-1 min-w-[220px]\">\r\n                <InfoRow label=\"Camat\" value={tanah.nama_camat} icon={CheckIcon} />\r\n                <InfoRow label=\"Lurah\" value={tanah.nama_lurah} icon={CheckIcon} />\r\n                <InfoRow label=\"Kasi Pemerintahan\" value={tanah.nama_kasi_pemerintahan} icon={CheckIcon} />\r\n                <InfoRow label=\"Administrasi Kecamatan\" value={tanah.nama_administrasi_kecamatan} icon={CheckIcon} />\r\n              </div>\r\n            </CardContent>\r\n            <CardFooter className=\"bg-slate-50 rounded-b-lg flex flex-row flex-nowrap gap-2 sm:gap-6 items-center overflow-x-auto scrollbar-thin scrollbar-thumb-slate-300\">\r\n              <InfoRow2 className=\"text-xs text-slate-500 min-w-[200px]\" label=\"Dibuat:\" value={formatDate(tanah.created_date, true)} />\r\n              <InfoRow2 className=\"text-xs text-slate-500 min-w-[200px]\" label=\"Update:\" value={formatDate(tanah.updated_date, true)} />\r\n              <InfoRow2 className=\"text-xs text-slate-500 min-w-[200px]\" label=\"by:\" value={tanah.created_by} />\r\n            </CardFooter>\r\n          </Card>\r\n\r\n        </TabsContent>\r\n\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}"],"names":["DetailTanah","tanahId","URLSearchParams","window","location","search","get","data","tanah","isLoading","useQuery","queryKey","queryFn","async","error","supabase","from","select","eq","single","Error","message","polygon_coords","JSON","parse","e","console","enabled","formatDate","date","short","dateObj","Date","isNaN","getTime","day","String","getDate","padStart","month","getMonth","getFullYear","slice","format","locale","id","qrValue","latitude","longitude","jsx","className","children","jsxs","Link","to","createPageUrl","Button","InfoRow","label","value","icon","Icon","InfoRowStatus","bg","InfoRow2","variant","size","ArrowLeft","Badge","status","Printer","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","Tabs","defaultValue","TabsList","User","MapPin","FileText","map","tab","idx","arr","React","Fragment","TabsTrigger","length","TabsContent","Card","CardHeader","CardTitle","CardContent","nama_pemilik","nik_pemilik","CreditCardIcon","umur_pemilik","CalendarCheck2","pekerjaan_pemilik","TagsIcon","alamat_pemilik","Home","nama_penerima","atas_nama","UserPlus2Icon","nik_penerima","umur_penerima","pekerjaan_penerima","alamat_penerima","lokasi","kecamatan","kelurahan","luas_perkalian","Map","luas_meter","luas_terbilang","batas_utara","ArrowBigUp","batas_timur","ArrowBigRight","batas_selatan","ArrowBigDown","batas_barat","ArrowBigLeft","transaksi","ArrowLeftRight","harga","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","Banknote","harga_terbilang","QrCode","src","encodeURIComponent","alt","href","target","rel","nomor_skpt","ListOrderedIcon","tanggal_skpt","Calendar","nomor_penyerahan","tanggal_penyerahan","CheckCircle2","nama_camat","CheckIcon","nama_lurah","nama_kasi_pemerintahan","nama_administrasi_kecamatan","CardFooter","created_date","updated_date","created_by"],"mappings":"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"}