import{r as e,R as s,j as t,V as r}from"./vendor-B-UrjPD3.js";import{B as a}from"./index-DFbN_dxx.js";import"./pdf-Dy1nE1k0.js";function n(){const[n,o]=e.useState(""),[i,l]=e.useState(!1);return s.useEffect(()=>{const e=localStorage.getItem("user");if(e)try{const s=JSON.parse(e);l("admin"===s.role)}catch{l(!1)}else l(!1)},[]),i?t.jsxs("div",{className:"max-w-xl mx-auto py-10 space-y-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Backup & Restore Database"}),t.jsx("div",{className:"flex gap-2 items-center mb-4",children:t.jsx(a,{type:"button",variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-50",onClick:()=>{window.open("/api/backup-db-pg.php","_blank")},children:"Backup SQL (Postgres)"})}),t.jsxs("form",{onSubmit:async e=>{e.preventDefault();const s=e.target.elements.restorefile;if(!s.files[0])return;const t=new FormData;t.append("sqlfile",s.files[0]);(await fetch("/api/restore-db-pg.php",{method:"POST",body:t})).ok?r.success("Restore sukses!"):r.error("Restore gagal!")},className:"flex gap-2 items-center",children:[t.jsx("input",{type:"file",name:"restorefile",accept:".sql",className:"border px-2 py-1 rounded text-sm",style:{minWidth:180}}),t.jsx(a,{type:"submit",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Restore SQL (Postgres)"})]})]}):t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"text-center text-red-600 font-bold text-xl",children:"Akses hanya untuk admin"})})}export{n as default};
//# sourceMappingURL=BackupRestore-BwRG49Qj.js.map
