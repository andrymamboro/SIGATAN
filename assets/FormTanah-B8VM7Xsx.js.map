{"version":3,"file":"FormTanah-B8VM7Xsx.js","sources":["../../Components/ui/textarea.jsx","../../Components/utils/NumberToWords.jsx","../../api/pejabat.js","../../Components/forms/TanahForm.jsx","../../Pages/FormTanah.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Textarea = React.forwardRef(({ className, ...props }, ref) => {\r\n  return (\r\n    <textarea\r\n      className={cn(\r\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n","const satuan = ['', 'Satu', 'Dua', 'Tiga', 'Empat', 'Lima', 'Enam', 'Tujuh', 'Delapan', 'Sembilan'];\r\nconst belasan = ['Sepuluh', 'Sebelas', 'Dua Belas', 'Tiga Belas', 'Empat Belas', 'Lima Belas', 'Enam Belas', 'Tujuh Belas', 'Delapan Belas', 'Sembilan Belas'];\r\n\r\nfunction convertToWords(number) {\r\n  if (number === 0) return 'Nol';\r\n  if (number < 0) return 'Minus ' + convertToWords(Math.abs(number));\r\n\r\n  let words = '';\r\n\r\n  if (number >= 1000000000) {\r\n    const billions = Math.floor(number / 1000000000);\r\n    words += (billions === 1 ? 'Satu' : convertToWords(billions)) + ' Miliar ';\r\n    number %= 1000000000;\r\n  }\r\n\r\n  if (number >= 1000000) {\r\n    const millions = Math.floor(number / 1000000);\r\n    words += (millions === 1 ? 'Satu' : convertToWords(millions)) + ' Juta ';\r\n    number %= 1000000;\r\n  }\r\n\r\n  if (number >= 1000) {\r\n    const thousands = Math.floor(number / 1000);\r\n    words += (thousands === 1 ? 'Seribu' : convertToWords(thousands) + ' Ribu') + ' ';\r\n    number %= 1000;\r\n  }\r\n\r\n  if (number >= 100) {\r\n    const hundreds = Math.floor(number / 100);\r\n    words += (hundreds === 1 ? 'Seratus' : satuan[hundreds] + ' Ratus') + ' ';\r\n    number %= 100;\r\n  }\r\n\r\n  if (number >= 10 && number <= 19) {\r\n    words += belasan[number - 10] + ' ';\r\n    number = 0;\r\n  }\r\n\r\n  if (number >= 20) {\r\n    const tens = Math.floor(number / 10);\r\n    words += satuan[tens] + ' Puluh ';\r\n    number %= 10;\r\n  }\r\n\r\n  if (number > 0) {\r\n    words += satuan[number] + ' ';\r\n  }\r\n\r\n  return words.trim();\r\n}\r\n\r\nexport function numberToWordsIDR(amount) {\r\n  if (!amount || isNaN(amount)) return '';\r\n  return convertToWords(Math.floor(Number(amount))) + ' Rupiah';\r\n}\r\n\r\nexport function numberToWordsArea(area) {\r\n  if (!area || isNaN(area)) return '';\r\n  \r\n  const numArea = Number(area);\r\n  const integerPart = Math.floor(numArea);\r\n  const decimalPart = numArea % 1;\r\n  \r\n  let result = convertToWords(integerPart);\r\n  \r\n  // Jika ada desimal, tambahkan \"koma\" dan bilangan desimalnya\r\n  if (decimalPart > 0) {\r\n    const decimalDigits = decimalPart.toFixed(2).split('.')[1]; // Ambil 2 digit desimal\r\n    const firstDecimal = parseInt(decimalDigits[0]);\r\n    const secondDecimal = parseInt(decimalDigits[1]);\r\n    \r\n    result += ' Koma';\r\n    \r\n    if (firstDecimal > 0) {\r\n      result += ' ' + satuan[firstDecimal];\r\n    } else {\r\n      result += ' Nol';\r\n    }\r\n    \r\n    if (secondDecimal > 0) {\r\n      result += ' ' + satuan[secondDecimal];\r\n    }\r\n  }\r\n  \r\n  result += ' Meter Persegi';\r\n  return result;\r\n}","// api/pejabat.js\r\n// Mendapatkan data pejabat berdasarkan kecamatan & kelurahan\r\nimport { supabase } from './db';\r\n\r\nexport async function getPejabatByWilayah(kecamatan, kelurahan) {\r\n  // Ambil semua pejabat aktif di kecamatan/kelurahan\r\n  let query = supabase\r\n    .from('pejabat')\r\n    .select('*')\r\n    .eq('kecamatan', kecamatan)\r\n    .eq('aktif', true);\r\n  if (kelurahan) query = query.eq('kelurahan', kelurahan);\r\n  const { data, error } = await query;\r\n  if (error) throw error;\r\n  // Mapping jabatan ke key form\r\n  const map = {\r\n    'PPATK Kecamatan': 'camat',\r\n    'Camat': 'camat',\r\n    'Lurah': 'lurah',\r\n    'Kasi Pemerintahan': 'kasi_pemerintahan',\r\n    'Staf Administrasi Kecamatan': 'administrasi_kecamatan',\r\n  };\r\n  const result = {};\r\n  data.forEach((p) => {\r\n    const key = map[p.jabatan];\r\n    if (key) {\r\n      result[`nama_${key}`] = p.nama;\r\n      result[`nip_${key}`] = p.nip;\r\n      result[`jabatan_${key}`] = p.jabatan;\r\n    }\r\n  });\r\n  return result;\r\n}\r\n","\r\n\r\n\r\n\r\n\r\n\r\n// Trigger NIK validation onBlur (after touched)\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n \r\n} from \"@/components/ui/dialog\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { MapPin, User, FileText, UserPlus, Save, Loader2, Map, Eye, Search, User2Icon, CreditCard, CalendarCheck, TagIcon, Home, HomeIcon, ArrowBigUp, ArrowBigRight, ArrowBigDown, ArrowBigLeft } from 'lucide-react';\r\nimport MapPicker from '@/components/maps/MapPicker';\r\nimport { numberToWordsIDR, numberToWordsArea } from '@/components/utils/NumberToWords';\r\nimport { getPejabatByWilayah } from '@/api/pejabat';\r\n\r\n// Define InputField outside component to prevent re-creation on each render\r\nconst InputField = ({ label, name, type = 'text', required = false, placeholder = '', value, onChange, disabled, icon: Icon }) => {\r\n  // Jika disabled dan value ada, tampilkan value sebagai caption (placeholder tidak muncul di input disabled)\r\n  const showPlaceholder = disabled && !value ? placeholder : undefined;\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <Label htmlFor={name} className=\"text-blue-700 font-bold flex items-center gap-1\">\r\n        {Icon && <Icon className=\"w-4 h-4 text-emerald-500 mr-1\" />} {label} {required && <span className=\"text-red-500\">*</span>}\r\n      </Label>\r\n      <Input\r\n        id={name}\r\n        type={type}\r\n        value={value || ''}\r\n        onChange={onChange}\r\n        placeholder={showPlaceholder}\r\n        required={required}\r\n        disabled={disabled}\r\n      />\r\n      {disabled && !value && placeholder && (\r\n        <div className=\"text-xs text-slate-400 italic mt-1\">{placeholder}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function TanahForm({ tanah, onSubmit, isLoading, wilayahList = [], allTanahData = [], user }) {\r\n      // Ensure touched.nik_pemilik is set if value exists on mount (for edit mode)\r\n      useEffect(() => {\r\n        if (formData.nik_pemilik && !touched.nik_pemilik) {\r\n          setTouched(prev => ({ ...prev, nik_pemilik: true }));\r\n        }\r\n      }, []);\r\n    // Handler to set touched state for fields\r\n    const handleBlur = (name) => {\r\n      setTouched(prev => ({ ...prev, [name]: true }));\r\n    };\r\n  // ...state declarations...\r\n  const [defaultPejabat, setDefaultPejabat] = useState({});\r\n  const [showMapPicker, setShowMapPicker] = useState(false);\r\n  const [currentTab, setCurrentTab] = useState('pemilik');\r\n  const [errors, setErrors] = useState({});\r\n  const [touched, setTouched] = useState({});\r\n  const [showAsalUsulDialog, setShowAsalUsulDialog] = useState(false);\r\n  const [asalUsulSearch, setAsalUsulSearch] = useState('');\r\n  const [asalUsulPage, setAsalUsulPage] = useState(1);\r\n  const itemsPerPage = 10;\r\n  // Initialize form data with default values\r\n  const getInitialFormData = () => ({\r\n    nama_pemilik: '',\r\n    nik_pemilik: '',\r\n    tempat_tgl_lahir_pemilik: '',\r\n    pekerjaan_pemilik: '',\r\n    alamat_pemilik: '',\r\n    luas_perkalian: '',\r\n    luas_terbilang: '',\r\n    luas_meter: '',\r\n    batas_utara: '',\r\n    batas_timur: '',\r\n    batas_selatan: '',\r\n    batas_barat: '',\r\n    lokasi: '',\r\n    latitude: '',\r\n    longitude: '',\r\n    location_type: 'marker',\r\n    polygon_coords: null,\r\n    asal_usul: '',\r\n    nomor_skpt: '',\r\n    tanggal_skpt: '',\r\n    nama_penerima: '',\r\n    nik_penerima: '',\r\n    tempat_tgl_lahir_penerima: '',\r\n    pekerjaan_penerima: '',\r\n    alamat_penerima: '',\r\n    atas_nama: '',\r\n    transaksi: '',\r\n    harga: '',\r\n    harga_terbilang: '',\r\n    nomor_penyerahan: '',\r\n    tanggal_penyerahan: '',\r\n    kecamatan: '',\r\n    kelurahan: '',\r\n    status: 'Proses',\r\n    // Pejabat fields\r\n    nama_camat: '',\r\n    nip_camat: '',\r\n    jabatan_camat: '',\r\n    nama_lurah: '',\r\n    nip_lurah: '',\r\n    nama_kasi_pemerintahan: '',\r\n    nip_kasi_pemerintahan: '',\r\n    jabatan_kasi_pemerintahan: '',\r\n    nama_administrasi_kecamatan: '',\r\n    nip_administrasi_kecamatan: '',\r\n    jabatan_administrasi_kecamatan: '',\r\n    ...(tanah || {})\r\n  });\r\n  \r\n  const [formData, setFormData] = useState(getInitialFormData());\r\n\r\n  const [kelurahanOptions, setKelurahanOptions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (tanah) {\r\n      const loadedData = { ...formData, ...tanah };\r\n      // Parse polygon_coords if it's a string\r\n      if (loadedData.polygon_coords && typeof loadedData.polygon_coords === 'string') {\r\n        try {\r\n          loadedData.polygon_coords = JSON.parse(loadedData.polygon_coords);\r\n        } catch (e) {\r\n          console.error('Failed to parse polygon_coords:', e);\r\n          loadedData.polygon_coords = null;\r\n        }\r\n      }\r\n      setFormData(loadedData);\r\n    }\r\n  }, [tanah]);\r\n\r\n  useEffect(() => {\r\n    let kecamatan = formData.kecamatan;\r\n    if (user?.role === 'admin_kecamatan') {\r\n      kecamatan = user.kecamatan;\r\n    }\r\n    if (kecamatan) {\r\n      const filtered = wilayahList\r\n        .filter(w => w.kecamatan === kecamatan)\r\n        .map(w => w.kelurahan);\r\n      setKelurahanOptions([...new Set(filtered)]);\r\n    }\r\n    // Jika kecamatan & kelurahan sudah terisi, ambil data pejabat dari API\r\n    if (formData.kecamatan && formData.kelurahan) {\r\n      getPejabatByWilayah(formData.kecamatan, formData.kelurahan).then(pejabat => {\r\n        setDefaultPejabat(pejabat || {});\r\n        // Hanya update jika ada perubahan\r\n        const changed = Object.entries(pejabat).some(([k, v]) => v && v !== formData[k]);\r\n        if (changed) {\r\n          setFormData(prev => ({ ...prev, ...pejabat }));\r\n        }\r\n      });\r\n    } else {\r\n      setDefaultPejabat({});\r\n    }\r\n  }, [formData.kecamatan, formData.kelurahan, wilayahList, user]);\r\n\r\n  let kecamatanOptions = [...new Set(wilayahList.map(w => w.kecamatan))];\r\n  if (user?.role === 'admin_kecamatan') {\r\n    kecamatanOptions = user.kecamatan ? [user.kecamatan] : [];\r\n    // Set formData.kecamatan otomatis jika belum terisi\r\n    if (!formData.kecamatan && user.kecamatan) {\r\n      setTimeout(() => {\r\n        handleChange('kecamatan', user.kecamatan);\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  const handleChange = (name, value) => {\r\n    setFormData(prev => {\r\n      let next = {\r\n        ...prev,\r\n        [name]: value,\r\n        ...(name === 'luas_meter' && value ? { luas_terbilang: numberToWordsArea(value) } : {}),\r\n        ...(name === 'harga' && value ? { harga_terbilang: numberToWordsIDR(value) } : {})\r\n      };\r\n      return next;\r\n    });\r\n    // Jika kecamatan/kelurahan berubah, ambil data pejabat terbaru\r\n    if ((name === 'kecamatan' || name === 'kelurahan')) {\r\n      const kecamatan = name === 'kecamatan' ? value : formData.kecamatan;\r\n      const kelurahan = name === 'kelurahan' ? value : formData.kelurahan;\r\n      if (kecamatan && kelurahan) {\r\n        getPejabatByWilayah(kecamatan, kelurahan).then(pejabat => {\r\n          setDefaultPejabat(pejabat || {});\r\n          setFormData(prev => ({ ...prev, ...pejabat }));\r\n        });\r\n      } else {\r\n        setDefaultPejabat({});\r\n      }\r\n    }\r\n  };\r\n\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const processedData = {\r\n      ...formData,\r\n      tempat_tgl_lahir_pemilik: formData.tempat_tgl_lahir_pemilik || '',\r\n      tempat_tgl_lahir_penerima: formData.tempat_tgl_lahir_penerima || '',\r\n      luas_meter: formData.luas_meter ? Number(formData.luas_meter) : null,\r\n      harga: formData.harga ? Number(formData.harga) : null,\r\n      latitude: formData.latitude ? Number(formData.latitude) : null,\r\n      longitude: formData.longitude ? Number(formData.longitude) : null,\r\n      polygon_coords: formData.polygon_coords || null,\r\n      location_type: formData.location_type || 'marker',\r\n      // Pastikan tanggal valid/null\r\n      tanggal_skpt: formData.tanggal_skpt ? formData.tanggal_skpt : null,\r\n      tanggal_penyerahan: formData.tanggal_penyerahan ? formData.tanggal_penyerahan : null,\r\n    };\r\n    try {\r\n      onSubmit(processedData);\r\n    } catch (err) {\r\n      alert('Gagal menyimpan data: ' + (err?.message || err));\r\n    }\r\n  };\r\n\r\n  const validateTab = (tab) => {\r\n    const newErrors = {};\r\n    // Validasi NIP: harus 16 digit jika diisi\r\n    const nipFields = [\r\n      'nip_camat',\r\n      'nip_lurah',\r\n      'nip_kasi_pemerintahan',\r\n      'nip_administrasi_kecamatan'\r\n    ];\r\n    nipFields.forEach(field => {\r\n      const val = formData[field];\r\n      if (val && (!/^\\d{18}$/.test(val))) {\r\n        newErrors[field] = 'NIP harus 18 digit angka';\r\n      }\r\n    });\r\n    if (tab === 'pemilik') {\r\n      if (!formData.nama_pemilik) {\r\n        newErrors.nama_pemilik = 'Nama Pemilik harus diisi';\r\n      }\r\n      if (!formData.nik_pemilik) {\r\n        newErrors.nik_pemilik = 'NIK harus diisi';\r\n      } else if (!/^\\d{16}$/.test(formData.nik_pemilik)) {\r\n        newErrors.nik_pemilik = 'NIK harus 16 digit angka';\r\n      }\r\n    } else if (tab === 'tanah') {\r\n      if (!formData.kecamatan) {\r\n        newErrors.kecamatan = 'Kecamatan harus dipilih';\r\n      }\r\n      if (!formData.kelurahan) {\r\n        newErrors.kelurahan = 'Kelurahan harus dipilih';\r\n      }\r\n    }\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleNextTab = () => {\r\n    if (!validateTab(currentTab)) {\r\n      return;\r\n    }\r\n    \r\n    setErrors({});\r\n    const tabs = ['pemilik', 'tanah', 'penerima', 'dokumen'];\r\n    const currentIndex = tabs.indexOf(currentTab);\r\n    if (currentIndex < tabs.length - 1) {\r\n      setCurrentTab(tabs[currentIndex + 1]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n      {/* Progress Indicator as Tab Trigger */}\r\n      <Tabs value={currentTab} onValueChange={setCurrentTab} className=\"w-full\">\r\n        <div className=\"w-full flex flex-col items-center mb-2\">\r\n          <div className=\"flex w-full max-w-2xl justify-between items-center gap-2\">\r\n            {[\r\n              { label: 'Pemilik', value: 'pemilik', icon: User },\r\n              { label: 'Tanah', value: 'tanah', icon: Map },\r\n              { label: 'Koordinat', value: 'koordinat', icon: MapPin },\r\n              { label: 'Penerima', value: 'penerima', icon: UserPlus },\r\n              { label: 'Dokumen', value: 'dokumen', icon: FileText },\r\n            ].map((tab, idx, arr) => (\r\n              <React.Fragment key={tab.value}>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setCurrentTab(tab.value)}\r\n                  className={`flex flex-col items-center flex-1 focus:outline-none group`}\r\n                  aria-current={currentTab === tab.value ? 'step' : undefined}\r\n                >\r\n                  <div\r\n                    className={`rounded-full w-8 h-8 flex items-center justify-center font-bold border-2 transition-all duration-200 mb-1 ${currentTab === tab.value ? 'bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white border-blue-900 scale-110 shadow-lg' : 'bg-white text-slate-900 border-slate-400 group-hover:bg-slate-100'}`}\r\n                  >\r\n                    {idx + 1}\r\n                  </div>\r\n                  <span className={`text-xs font-medium flex items-center gap-1 ${currentTab === tab.value ? 'text-slate-900' : 'text-slate-500'}`}>{tab.icon && <tab.icon className=\"w-4 h-4\" />} {tab.label}</span>\r\n                </button>\r\n                {idx < arr.length - 1 && (\r\n                  <div className={`flex-1 h-1 mx-1 rounded bg-gradient-to-r ${idx < arr.findIndex(t => t.value === currentTab) ? 'from-slate-900 via-slate-800 to-blue-900' : 'from-slate-200 to-slate-200'}`}></div>\r\n                )}\r\n              </React.Fragment>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <TabsContent value=\"pemilik\">\r\n          <Card className=\"border-0 shadow-md\">\r\n            <CardHeader className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-t-lg\">\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <User className=\"w-5 h-5\" />\r\n                Data Pemilik\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <InputField label=\"Nama Pemilik\" name=\"nama_pemilik\" required placeholder=\"Masukkan nama lengkap\" value={formData.nama_pemilik} onChange={(e) => handleChange('nama_pemilik', e.target.value)} icon={User2Icon} />\r\n                {errors.nama_pemilik && <p className=\"text-red-500 text-sm mt-1\">{errors.nama_pemilik}</p>} \r\n              </div>\r\n              <div>\r\n                <InputField label=\"NIK\" name=\"nik_pemilik\" required placeholder=\"16 digit NIK\" value={formData.nik_pemilik} onChange={(e) => handleChange('nik_pemilik', e.target.value)} onBlur={() => handleBlur('nik_pemilik')} icon={CreditCard}/>\r\n                {errors.nik_pemilik && (touched.nik_pemilik || tanah) && <p className=\"text-red-500 text-sm mt-1\">{errors.nik_pemilik}</p>}\r\n              </div>\r\n                            {/* Contoh untuk NIP pejabat, tambahkan onBlur dan error tampil jika touched */}\r\n                            {/*\r\n                            <InputField label=\"NIP Camat\" name=\"nip_camat\" value={formData.nip_camat} onChange={e => handleChange('nip_camat', e.target.value)} onBlur={() => handleBlur('nip_camat')} />\r\n                            {errors.nip_camat && touched.nip_camat && <p className=\"text-red-500 text-sm mt-1\">{errors.nip_camat}</p>}\r\n                            */}\r\n              <InputField label=\"Tempat, Tanggal Lahir atau Umur\" name=\"tempat_tgl_lahir_pemilik\" placeholder=\"Contoh: Palu, 20 Desember 1980\" value={formData.tempat_tgl_lahir_pemilik} onChange={(e) => handleChange('tempat_tgl_lahir_pemilik', e.target.value)} icon={CalendarCheck} />\r\n              <InputField label=\"Pekerjaan\" name=\"pekerjaan_pemilik\" placeholder=\"Jenis pekerjaan\" value={formData.pekerjaan_pemilik} onChange={(e) => handleChange('pekerjaan_pemilik', e.target.value)} icon={TagIcon}/>\r\n              <div className=\"md:col-span-2 space-y-2\">\r\n                <Label className=\"text-blue-700 font-bold flex items-center gap-2\"><HomeIcon className='h-4 w-4 text-green-700'/>Alamat</Label>\r\n                <Textarea\r\n                  value={formData.alamat_pemilik || ''}\r\n                  onChange={(e) => handleChange('alamat_pemilik', e.target.value)}\r\n                  placeholder=\"Alamat lengkap\"\r\n                  className=\"border-slate-200\"\r\n                /> \r\n              </div>\r\n              <div className=\"md:col-span-2 flex justify-between pt-6 border-t border-slate-200\">\r\n                <div className=\"text-sm text-slate-500\">\r\n                  <span className=\"font-medium\">Step 1 of 4:</span> Data Pemilik\r\n                </div>\r\n                <Button \r\n                  type=\"button\"\r\n                  onClick={handleNextTab}\r\n                  className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                >\r\n                  Selanjutnya\r\n                  <MapPin className=\"w-4 h-4 ml-2\" />\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"tanah\">\r\n          <Card className=\"border-0 shadow-md\">\r\n            <CardHeader className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-t-lg\">\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <MapPin className=\"w-5 h-5\" />\r\n                Data Tanah\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6 space-y-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-blue-700 font-bold flex items-center gap-1\"><MapPin className=\"w-4 h-4 text-emerald-500 mr-1\"/>Kecamatan <span className=\"text-red-500\">*</span></Label>\r\n                  <Select value={formData.kecamatan} onValueChange={(v) => handleChange('kecamatan', v)} disabled={user?.role === 'admin_kecamatan'}>\r\n                    <SelectTrigger className={errors.kecamatan ? 'border-red-500' : 'border-blue-500'}>\r\n                      <SelectValue placeholder=\"Pilih Kecamatan\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {kecamatanOptions\r\n                        .filter(k => user?.role === 'admin_kecamatan' ? k === user?.kecamatan : true)\r\n                        .map(k => (\r\n                          <SelectItem key={k} value={k}>{k}</SelectItem>\r\n                        ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  {errors.kecamatan && <p className=\"text-red-500 text-sm mt-1\">{errors.kecamatan}</p>}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-blue-700 font-bold flex items-center gap-1\"><MapPin className=\"w-4 h-4 text-emerald-500 mr-1\"/>Kelurahan <span className=\"text-red-500\">*</span></Label>\r\n                  <Select value={formData.kelurahan} onValueChange={(v) => handleChange('kelurahan', v)}>\r\n                    <SelectTrigger className={errors.kelurahan ? 'border-red-500' : 'border-blue-500'}>\r\n                      <SelectValue placeholder=\"Pilih Kelurahan\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {kelurahanOptions.map(k => (\r\n                        <SelectItem key={k} value={k}>{k}</SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  {errors.kelurahan && <p className=\"text-red-500 text-sm mt-1\">{errors.kelurahan}</p>}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 font-bold flex items-center gap-1\"><MapPin className=\"w-4 h-4 text-emerald-500 mr-1\"/>Lokasi <span className=\"text-red-500\">*</span></Label>\r\n                <Input\r\n                  value={formData.lokasi || ''}\r\n                  onChange={(e) => handleChange('lokasi', e.target.value)}\r\n                  placeholder=\"Deskripsi lokasi tanah\"\r\n                  className=\"border-blue-500 border-2\"\r\n                  required\r\n                />\r\n              </div>\r\n              </div>             \r\n\r\n              \r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                <InputField className =\"w-16\" label=\"Luas (P x L)\" name=\"luas_perkalian\" placeholder=\"10 x 15\" value={formData.luas_perkalian} onChange={(e) => handleChange('luas_perkalian', e.target.value)} icon={Map} />\r\n                <InputField className =\"w-16\" label=\"Luas (m²)\" name=\"luas_meter\" type=\"number\" step=\"1\" placeholder=\"150\" value={formData.luas_meter} onChange={(e) => handleChange('luas_meter', e.target.value)} icon={Map} />\r\n                <div className=\"space-y-0 col-span-2\">\r\n                  <Label htmlFor=\"luas_terbilang\" className=\"text-blue-700 font-bold flex items-center gap-1\"><FileText className=\"w-4 h-4 text-emerald-500 mr-1\"/>Luas Terbilang</Label>\r\n                  <Input\r\n                    className=\"col-span-2\"\r\n                    id=\"luas_terbilang\"\r\n                    type=\"text\"\r\n                    value={formData.luas_terbilang || ''}\r\n                    onChange={(e) => handleChange('luas_terbilang', e.target.value)}\r\n                    placeholder=\"Otomatis terisi\"\r\n                    readOnly\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <InputField label=\"Batas Utara\" name=\"batas_utara\" placeholder=\"Berbatasan dengan...\" value={formData.batas_utara} onChange={(e) => handleChange('batas_utara', e.target.value)} icon={ArrowBigUp} />\r\n                <InputField label=\"Batas Timur\" name=\"batas_timur\" placeholder=\"Berbatasan dengan...\" value={formData.batas_timur} onChange={(e) => handleChange('batas_timur', e.target.value)} icon={ArrowBigRight} />\r\n                <InputField label=\"Batas Selatan\" name=\"batas_selatan\" placeholder=\"Berbatasan dengan...\" value={formData.batas_selatan} onChange={(e) => handleChange('batas_selatan', e.target.value)} icon={ArrowBigDown} />\r\n                <InputField label=\"Batas Barat\" name=\"batas_barat\" placeholder=\"Berbatasan dengan...\" value={formData.batas_barat} onChange={(e) => handleChange('batas_barat', e.target.value)} icon={ArrowBigLeft} />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Label className=\"text-blue-700 font-bold\">Asal Usul Tanah</Label>\r\n                  <Badge \r\n                    variant=\"outline\" \r\n                    className=\"cursor-pointer hover:bg-blue-50 text-blue-600 border-blue-300\"\r\n                    onClick={() => setShowAsalUsulDialog(true)}\r\n                  >\r\n                    <Eye className=\"w-3 h-3 mr-1\" />\r\n                    Lihat Contoh\r\n                  </Badge>\r\n                </div>\r\n                <Textarea\r\n                  value={formData.asal_usul || ''}\r\n                  onChange={(e) => handleChange('asal_usul', e.target.value)}\r\n                  placeholder=\"Warisan, Pembelian, dll\"\r\n                  className=\"border-blue-500 border-2\"\r\n                  rows={5}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"flex justify-between pt-6 border-t border-slate-200\">\r\n                <Button \r\n                  type=\"button\"\r\n                  onClick={() => setCurrentTab('pemilik')}\r\n                  className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                >\r\n                  <User className=\"w-4 h-4 mr-2\" />\r\n                  Kembali\r\n                </Button>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span className=\"text-sm text-slate-500\"><span className=\"font-medium\">Step 2 of 4:</span> Data Tanah</span>\r\n                  <Button \r\n                    type=\"button\"\r\n                    onClick={handleNextTab}\r\n                    className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                  >\r\n                    Selanjutnya\r\n                    <MapPin className=\"w-4 h-4 ml-2\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"penerima\">\r\n          <Card className=\"border-0 shadow-md\">\r\n            <CardHeader className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-t-lg\">\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <UserPlus className=\"w-5 h-5\" />\r\n                Data Penerima / Transaksi\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6 space-y-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                             <InputField label=\"Nama Penerima\" name=\"nama_penerima\" placeholder=\"Nama lengkap\" value={formData.nama_penerima} onChange={(e) => handleChange('nama_penerima', e.target.value)} icon={User2Icon} />\r\n                             <InputField label=\"NIK Penerima\" name=\"nik_penerima\" placeholder=\"16 digit NIK\" value={formData.nik_penerima} onChange={(e) => handleChange('nik_penerima', e.target.value)} icon={CreditCard} />\r\n                             <InputField label=\"Tempat, Tanggal Lahir atau Umur\" name=\"tempat_tgl_lahir_penerima\" placeholder=\"Contoh: Palu, 20 Desember 1980\" value={formData.tempat_tgl_lahir_penerima} onChange={(e) => handleChange('tempat_tgl_lahir_penerima', e.target.value)} icon={CalendarCheck} />\r\n                           <InputField label=\"Pekerjaan\" name=\"pekerjaan_penerima\" placeholder=\"Jenis pekerjaan\" value={formData.pekerjaan_penerima} onChange={(e) => handleChange('pekerjaan_penerima', e.target.value)} icon={TagIcon} />\r\n              </div>\r\n              \r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-blue-700 font-bold flex items-center gap-2\"><HomeIcon className='h-4 w-4 text-green-700'/>Alamat</Label>\r\n                             \r\n                <Textarea\r\n                  value={formData.alamat_penerima || ''}\r\n                  onChange={(e) => handleChange('alamat_penerima', e.target.value)}\r\n                  placeholder=\"Alamat lengkap\"\r\n                  className=\"border-slate-200\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <InputField label=\"Atas Nama\" name=\"atas_nama\" placeholder=\"Atas nama\" value={formData.atas_nama} onChange={(e) => handleChange('atas_nama', e.target.value)} />\r\n                <div className=\"\">\r\n                  <Label className=\"text-blue-700 font-bold\">Jenis Transaksi</Label>\r\n                  <Select  value={formData.transaksi} onValueChange={(v) => handleChange('transaksi', v)}>\r\n                    <SelectTrigger className=\"border-b-blue-500 border-b-2\">\r\n                      <SelectValue placeholder=\"Pilih jenis transaksi\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Jual Beli\">Jual Beli</SelectItem>\r\n                      <SelectItem value=\"Hibah/Pemberian\">Hibah/Pemberian</SelectItem>\r\n                      {/* <SelectItem value=\"Waris\">Waris</SelectItem>\r\n                      <SelectItem value=\"Tukar Menukar\">Tukar Menukar</SelectItem>\r\n                      <SelectItem value=\"Lainnya\">Lainnya</SelectItem> */}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n\r\n              {formData.transaksi === 'Jual Beli' && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <InputField label=\"Harga (Rp)\" name=\"harga\" type=\"number\" placeholder=\"0\" value={formData.harga} onChange={(e) => handleChange('harga', e.target.value)} />\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"harga_terbilang\" className=\"text-slate-700 font-medium\">\r\n                      Harga Terbilang\r\n                    </Label>\r\n                    <Input\r\n                      id=\"harga_terbilang\"\r\n                      type=\"text\"\r\n                      value={formData.harga_terbilang || ''}\r\n                      onChange={(e) => handleChange('harga_terbilang', e.target.value)}\r\n                      placeholder=\"Otomatis terisi\"\r\n                      className=\"border-slate-200 focus:border-blue-500 focus:ring-blue-500 bg-slate-50\"\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex justify-between pt-6 border-t border-slate-200\">\r\n                <Button \r\n                  type=\"button\"\r\n                  onClick={() => setCurrentTab('tanah')}\r\n                  className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                >\r\n                  <MapPin className=\"w-4 h-4 mr-2\" />\r\n                  Kembali\r\n                </Button>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span className=\"text-sm text-slate-500\"><span className=\"font-medium\">Step 3 of 4:</span> Data Penerima</span>\r\n                  <Button \r\n                    type=\"button\"\r\n                    onClick={handleNextTab}\r\n                    className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                  >\r\n                    Selanjutnya\r\n                    <FileText className=\"w-4 h-4 ml-2\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"koordinat\">\r\n          <Card className=\"border-0 shadow-md\">\r\n            <CardHeader className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-t-lg\">\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                {/* Ganti icon dan judul sesuai kebutuhan */}\r\n                <FileText className=\"w-5 h-5\" />\r\n                Koordinat\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6\">\r\n              {/* Konten tab custom di sini */}\r\n              <div className=\"text-slate-700\">\r\n                <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Label className=\"text-green-700 font-bold\">Koordinat Lokasi</Label>\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={() => setShowMapPicker(true)}\r\n                    className=\"bg-gradient-to-b from-green-700 via-green-800 to-emerald-900 text-white hover:brightness-110\"\r\n                    size=\"sm\"\r\n                  >\r\n                    <Map className=\"w-4 h-4 mr-2\" />\r\n                    Pilih dari Peta\r\n                  </Button>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <InputField label=\"Latitude\" name=\"latitude\" type=\"number\" step=\"0.0000001\" placeholder=\"-6.xxxxx\" value={formData.latitude} onChange={(e) => handleChange('latitude', e.target.value)} />\r\n                  <InputField label=\"Longitude\" name=\"longitude\" type=\"number\" step=\"0.0000001\" placeholder=\"106.xxxxx\" value={formData.longitude} onChange={(e) => handleChange('longitude', e.target.value)} />\r\n                </div>\r\n                {/* Toggle for Polygon/Polyline */}\r\n                {(formData.location_type === 'polygon' || formData.location_type === 'polyline') && (\r\n                  <div className=\"mt-4\">\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <Label className=\"text-sm text-slate-600\">\r\n                        Koordinat {formData.location_type === 'polygon' ? 'Polygon' : 'Polyline'} {formData.polygon_coords ? `(${formData.polygon_coords.length} titik)` : ''}\r\n                      </Label>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"outline\"\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          const newCoords = formData.polygon_coords ? [...formData.polygon_coords] : [];\r\n                          newCoords.push([\r\n                            Number(formData.latitude) || 0,\r\n                            Number(formData.longitude) || 0\r\n                          ]);\r\n                          handleChange('polygon_coords', newCoords);\r\n                        }}\r\n                      >\r\n                        + Tambah Titik\r\n                      </Button>\r\n                    </div>\r\n                    {formData.polygon_coords && formData.polygon_coords.length > 0 ? (\r\n                      <div className=\"max-h-48 overflow-y-auto flex flex-col gap-1\">\r\n                        {formData.polygon_coords.map((coord, idx) => (\r\n                          <div key={idx} className=\"flex items-center gap-2 bg-slate-50 p-2 rounded\">\r\n                            <span className=\"text-xs font-semibold text-slate-500 w-6\">{idx + 1}.</span>\r\n                            <div className=\"flex-1 grid grid-cols-2 gap-2\">\r\n                              <Input\r\n                                type=\"number\"\r\n                                step=\"0.000001\"\r\n                                value={coord[0]}\r\n                                onChange={e => {\r\n                                  const newCoords = [...formData.polygon_coords];\r\n                                  newCoords[idx][0] = parseFloat(e.target.value) || 0;\r\n                                  handleChange('polygon_coords', newCoords);\r\n                                }}\r\n                                className=\"h-8 text-xs\"\r\n                                placeholder=\"Latitude\"\r\n                              />\r\n                              <Input\r\n                                type=\"number\"\r\n                                step=\"0.000001\"\r\n                                value={coord[1]}\r\n                                onChange={e => {\r\n                                  const newCoords = [...formData.polygon_coords];\r\n                                  newCoords[idx][1] = parseFloat(e.target.value) || 0;\r\n                                  handleChange('polygon_coords', newCoords);\r\n                                }}\r\n                                className=\"h-8 text-xs\"\r\n                                placeholder=\"Longitude\"\r\n                              />\r\n                            </div>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"ghost\"\r\n                              type=\"button\"\r\n                              onClick={() => {\r\n                                const newCoords = formData.polygon_coords.filter((_, i) => i !== idx);\r\n                                handleChange('polygon_coords', newCoords.length > 0 ? newCoords : null);\r\n                              }}\r\n                              className=\"h-8 px-2 text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n                            >\r\n                              ✕\r\n                            </Button>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"text-center py-4 text-sm text-slate-400\">\r\n                        Belum ada titik {formData.location_type === 'polygon' ? 'polygon' : 'polyline'}. Gambar di peta atau tambah manual.\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                </div>\r\n                {formData.latitude && formData.longitude && (\r\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\r\n                    <p className=\"text-sm text-blue-800\">\r\n                      <MapPin className=\"w-4 h-4 inline mr-1\" />\r\n                      {formData.location_type === 'polygon' ? 'Polygon (Pusat): ' : 'Koordinat: '}\r\n                      {formData.latitude}, {formData.longitude}\r\n                      {' '}\r\n                      <a \r\n                        href={`https://www.google.com/maps?q=${formData.latitude},${formData.longitude}`}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"text-blue-600 hover:underline ml-2\"\r\n                      >\r\n                        Lihat di Google Maps →\r\n                      </a>\r\n                    </p>\r\n                    {formData.location_type === 'polygon' && formData.polygon_coords && (\r\n                      <p className=\"text-xs text-blue-700 mt-1\">\r\n                        ✓ Polygon dengan {formData.polygon_coords.length} titik koordinat\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {/* Tombol Selanjutnya */}\r\n                <div className=\"flex justify-between pt-6 border-t border-slate-200 mt-8\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                    onClick={() => setActiveTab && setActiveTab('tanah')}\r\n                  >\r\n                    <Map className=\"w-4 h-4 mr-2\" />\r\n                    Kembali\r\n                  </Button>\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <span className=\"text-sm text-slate-500\"><span className=\"font-medium\">Step 3 of 4:</span> Data Koordinat</span>\r\n                    <Button\r\n                      type=\"button\"\r\n                      className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                      onClick={() => setActiveTab && setActiveTab('dokumen')}\r\n                    >\r\n                      Selanjutnya\r\n                      <UserPlus className=\"w-4 h-4 ml-2\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n        <TabsContent value=\"dokumen\">\r\n          <Card className=\"border-0 shadow-md\">\r\n            <CardHeader className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white rounded-t-lg\">\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <FileText className=\"w-5 h-5\" />\r\n                Data Dokumen\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"p-6 space-y-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <InputField label=\"Nomor SKPT\" name=\"nomor_skpt\" placeholder=\"Nomor surat\" value={formData.nomor_skpt} onChange={(e) => handleChange('nomor_skpt', e.target.value)} />\r\n                <InputField label=\"Tanggal SKPT\" name=\"tanggal_skpt\" type=\"date\" value={formData.tanggal_skpt} onChange={(e) => handleChange('tanggal_skpt', e.target.value)} />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <InputField label=\"Nomor Penyerahan\" name=\"nomor_penyerahan\" placeholder=\"Nomor surat\" value={formData.nomor_penyerahan} onChange={(e) => handleChange('nomor_penyerahan', e.target.value)} />\r\n                <InputField label=\"Tanggal Penyerahan\" name=\"tanggal_penyerahan\" type=\"date\" value={formData.tanggal_penyerahan} onChange={(e) => handleChange('tanggal_penyerahan', e.target.value)} />\r\n              </div>\r\n\r\n              {/* Pejabat Fields: 1 baris, 12 kolom */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                <div>\r\n                  <InputField label=\"Nama Camat\" name=\"nama_camat\" value={formData.nama_camat} onChange={e => handleChange('nama_camat', e.target.value)} disabled placeholder={defaultPejabat.nama_camat || ''} />\r\n                </div>\r\n                <div>\r\n                  <InputField label=\"Nama Lurah\" name=\"nama_lurah\" value={formData.nama_lurah} onChange={e => handleChange('nama_lurah', e.target.value)} disabled placeholder={defaultPejabat.nama_lurah || ''} />\r\n                </div>\r\n                <div>\r\n                  <InputField label=\"Nama Kasi Pemerintahan\" name=\"nama_kasi_pemerintahan\" value={formData.nama_kasi_pemerintahan} onChange={e => handleChange('nama_kasi_pemerintahan', e.target.value)} disabled placeholder={defaultPejabat.nama_kasi_pemerintahan || ''} />\r\n                </div>\r\n                <div>\r\n                  <InputField label=\"Nama Administrasi Kecamatan\" name=\"nama_administrasi_kecamatan\" value={formData.nama_administrasi_kecamatan} onChange={e => handleChange('nama_administrasi_kecamatan', e.target.value)} disabled placeholder={defaultPejabat.nama_administrasi_kecamatan || ''} />\r\n                </div>\r\n                {/* Hidden fields */}\r\n                <input type=\"hidden\" name=\"nip_camat\" value={formData.nip_camat || ''} />\r\n                <input type=\"hidden\" name=\"jabatan_camat\" value={formData.jabatan_camat || ''} />\r\n                <input type=\"hidden\" name=\"nip_lurah\" value={formData.nip_lurah || ''} />\r\n                <input type=\"hidden\" name=\"jabatan_lurah\" value={formData.jabatan_lurah || ''} />\r\n                <input type=\"hidden\" name=\"nip_kasi_pemerintahan\" value={formData.nip_kasi_pemerintahan || ''} />\r\n                <input type=\"hidden\" name=\"jabatan_kasi_pemerintahan\" value={formData.jabatan_kasi_pemerintahan || ''} />\r\n                <input type=\"hidden\" name=\"nip_administrasi_kecamatan\" value={formData.nip_administrasi_kecamatan || ''} />\r\n                <input type=\"hidden\" name=\"jabatan_administrasi_kecamatan\" value={formData.jabatan_administrasi_kecamatan || ''} />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-slate-700 font-medium\">Status</Label>\r\n                <Select value={formData.status} onValueChange={(v) => handleChange('status', v)}>\r\n                  <SelectTrigger className=\"border-blue-500 border-2\">\r\n                    <SelectValue placeholder=\"Pilih status\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Proses\">Proses</SelectItem>\r\n                    <SelectItem value=\"Selesai\">Selesai</SelectItem>\r\n                    <SelectItem value=\"Ditolak\">Ditolak</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"flex justify-between pt-6 border-t border-slate-200\">\r\n                <Button \r\n                  type=\"button\"\r\n                  onClick={() => setCurrentTab('penerima')}\r\n                  className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                >\r\n                  <UserPlus className=\"w-4 h-4 mr-2\" />\r\n                  Kembali\r\n                </Button>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span className=\"text-sm text-slate-500\"><span className=\"font-medium\">Step 4 of 4:</span> Data Dokumen</span>\r\n                  <Button \r\n                    type=\"submit\" \r\n                    disabled={isLoading}\r\n                    className=\"bg-gradient-to-b from-slate-900 via-slate-800 to-blue-900 text-white hover:brightness-110 px-8\"\r\n                  >\r\n                    {isLoading ? (\r\n                      <>\r\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                        Menyimpan...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Save className=\"w-4 h-4 mr-2\" />\r\n                        Simpan Data\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </form>\r\n\r\n    {/* Map Picker Modal */}\r\n    {showMapPicker && (\r\n      <div className=\"fixed inset-0 z-[100] bg-black/50 flex items-center justify-center p-4\" onClick={() => setShowMapPicker(false)}>\r\n        <div className=\"bg-white rounded-lg shadow-xl w-full max-w-7xl max-h-[98vh] overflow-hidden\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"p-6 border-b\">\r\n            <h2 className=\"flex items-center gap-2 text-xl font-semibold\">\r\n              <MapPin className=\"w-5 h-5 text-blue-600\" />\r\n              Pilih Lokasi Tanah di Peta\r\n            </h2>\r\n          </div>\r\n          <div className=\"overflow-y-auto\" style={{ maxHeight: 'calc(98vh - 80px)' }}>\r\n            <MapPicker\r\n              initialPosition={\r\n                formData.latitude && formData.longitude\r\n                  ? [Number(formData.latitude), Number(formData.longitude)]\r\n                  : [-0.7861746, 119.8689641]\r\n              }\r\n              initialPolygon={formData.polygon_coords}\r\n              initialMode={formData.location_type || 'marker'}\r\n              existingTanahData={(allTanahData || []).filter(t => t?.id !== tanah?.id)}\r\n              onSelectLocation={(coords) => {\r\n                setFormData(prev => ({\r\n                  ...prev,\r\n                  latitude: coords.latitude,\r\n                  longitude: coords.longitude,\r\n                  location_type: coords.type || 'marker',\r\n                  polygon_coords: coords.polygon || null\r\n                }));\r\n              }}\r\n              onClose={() => setShowMapPicker(false)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )}\r\n\r\n    {/* Asal Usul Dialog */}\r\n    <Dialog open={showAsalUsulDialog} onOpenChange={setShowAsalUsulDialog}>\r\n      <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>Contoh Asal Usul Tanah</DialogTitle>\r\n        </DialogHeader>\r\n        <div className=\"space-y-4\">\r\n          {/* Search */}\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n            <Input\r\n              placeholder=\"Cari asal usul...\"\r\n              value={asalUsulSearch}\r\n              onChange={(e) => {\r\n                setAsalUsulSearch(e.target.value);\r\n                setAsalUsulPage(1);\r\n              }}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n\r\n          {/* List */}\r\n          <div className=\"space-y-2\">\r\n            {(() => {\r\n              // Get unique asal usul\r\n              const uniqueAsalUsul = [...new Set(\r\n                allTanahData\r\n                  .filter(t => t.asal_usul && t.asal_usul.trim() !== '')\r\n                  .map(t => t.asal_usul.trim())\r\n              )];\r\n\r\n              // Filter by search\r\n              const filtered = uniqueAsalUsul.filter(au => \r\n                au.toLowerCase().includes(asalUsulSearch.toLowerCase())\r\n              );\r\n\r\n              // Pagination\r\n              const totalPages = Math.ceil(filtered.length / itemsPerPage);\r\n              const startIndex = (asalUsulPage - 1) * itemsPerPage;\r\n              const paginatedItems = filtered.slice(startIndex, startIndex + itemsPerPage);\r\n\r\n              if (paginatedItems.length === 0) {\r\n                return (\r\n                  <div className=\"text-center py-8 text-slate-500\">\r\n                    Tidak ada data asal usul\r\n                  </div>\r\n                );\r\n              }\r\n\r\n              return (\r\n                <>\r\n                  {paginatedItems.map((asalUsul, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors\"\r\n                      onClick={() => {\r\n                        handleChange('asal_usul', asalUsul);\r\n                        setShowAsalUsulDialog(false);\r\n                      }}\r\n                    >\r\n                      <p className=\"text-sm text-slate-700\">{asalUsul}</p>\r\n                    </div>\r\n                  ))}\r\n\r\n                  {/* Pagination */}\r\n                  {totalPages > 1 && (\r\n                    <div className=\"flex items-center justify-between pt-4 border-t\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => setAsalUsulPage(prev => Math.max(1, prev - 1))}\r\n                        disabled={asalUsulPage === 1}\r\n                      >\r\n                        Sebelumnya\r\n                      </Button>\r\n                      <span className=\"text-sm text-slate-600\">\r\n                        Halaman {asalUsulPage} dari {totalPages}\r\n                      </span>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => setAsalUsulPage(prev => Math.min(totalPages, prev + 1))}\r\n                        disabled={asalUsulPage === totalPages}\r\n                      >\r\n                        Selanjutnya\r\n                      </Button>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              );\r\n            })()}\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n    </>\r\n  );\r\n}","// Contoh: ambil data dari tabel 'Tanah'\r\n// const { data, error } = await supabase.from('Tanah').select('*');\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { supabase } from '@/api/db';\r\nimport { getCurrentUser } from '@/api/authUser';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ArrowLeft } from 'lucide-react';\r\nimport TanahForm from '@/components/forms/TanahForm';\r\nimport { toast } from 'sonner';\r\n\r\nexport default function FormTanah() {\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const tanahId = searchParams.get('id');\r\n  const [user, setUser] = useState(null);\r\n  \r\n  const queryClient = useQueryClient();\r\n\r\n  useEffect(() => {\r\n    // Ambil user dari localStorage (hasil login)\r\n    const userStr = localStorage.getItem('user');\r\n    if (userStr) {\r\n      try {\r\n        setUser(JSON.parse(userStr));\r\n      } catch (e) {\r\n        setUser(null);\r\n      }\r\n    } else {\r\n      setUser(null);\r\n    }\r\n  }, []);\r\n\r\n  const { data: tanahList = [] } = useQuery({\r\n    queryKey: ['tanah'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase.from('tanah').select('*');\r\n      if (error) throw new Error(error.message);\r\n      return data || [];\r\n    },\r\n    enabled: !!user,\r\n  });\r\n\r\n  const { data: wilayahList = [] } = useQuery({\r\n    queryKey: ['wilayah'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase.from('wilayah').select('*');\r\n      if (error) throw new Error(error.message);\r\n      return data || [];\r\n    },\r\n  });\r\n\r\n  const editingTanah = tanahId ? tanahList.find(t => String(t.id) === String(tanahId)) : null;\r\n\r\n  const createMutation = useMutation({\r\n    mutationFn: async (data) => {\r\n      // Buat payload hanya field yang valid\r\n      const payload = {\r\n        ...data,\r\n        created_by: user?.username || user?.full_name || null,\r\n      };\r\n      const { error } = await supabase.from('tanah').insert([payload]);\r\n      if (error) throw new Error(error.message);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['tanah']);\r\n      toast.success('Data tanah berhasil ditambahkan');\r\n      navigate('/datatanah');\r\n    },\r\n    onError: (error) => {\r\n      toast.error('Gagal menyimpan data: ' + (error.message || error));\r\n    },\r\n  });\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: async ({ id, data }) => {\r\n      // Pastikan id tidak dikirim ke payload\r\n      const { id: _id, ...dataWithoutId } = data || {};\r\n      const payload = {\r\n        ...dataWithoutId,\r\n        updated_by: user?.username || user?.full_name || null,\r\n      };\r\n      const { error } = await supabase.from('tanah').update(payload).eq('id', id);\r\n      if (error) throw new Error(error.message);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['tanah']);\r\n      toast.success('Data tanah berhasil diperbarui');\r\n      navigate('/datatanah');\r\n    },\r\n    onError: (error) => {\r\n      toast.error('Gagal update data: ' + (error.message || error));\r\n    },\r\n  });\r\n\r\n  const handleSubmit = (data) => {\r\n    if (editingTanah) {\r\n      updateMutation.mutate({ id: editingTanah.id, data });\r\n    } else {\r\n      createMutation.mutate(data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-slate-800\">\r\n            {editingTanah ? 'Edit Data Tanah' : 'Tambah Data Tanah Baru'}\r\n          </h1>\r\n          <p className=\"text-slate-500 mt-1\">\r\n            {editingTanah ? 'Perbarui informasi data tanah' : 'Tambahkan data tanah baru ke sistem'}\r\n          </p>\r\n        </div>\r\n        <Button\r\n          variant=\"outline\"\r\n          onClick={() => navigate('/datatanah')}\r\n        >\r\n          <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n          Kembali\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Form */}\r\n      <Card className=\"border-0 shadow-md\">\r\n        <CardContent className=\"p-6\">\r\n          <TanahForm \r\n            tanah={editingTanah}\r\n            onSubmit={handleSubmit}\r\n            isLoading={createMutation.isPending || updateMutation.isPending}\r\n            wilayahList={wilayahList}\r\n            allTanahData={tanahList}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Textarea","React.forwardRef","className","props","ref","jsx","cn","satuan","belasan","convertToWords","number","words","billions","millions","thousands","hundreds","tens","numberToWordsIDR","amount","numberToWordsArea","area","numArea","integerPart","decimalPart","result","decimalDigits","firstDecimal","secondDecimal","getPejabatByWilayah","kecamatan","kelurahan","query","supabase","data","error","map","p","key","InputField","label","name","type","required","placeholder","value","onChange","disabled","Icon","showPlaceholder","jsxs","Label","Input","TanahForm","tanah","onSubmit","isLoading","wilayahList","allTanahData","user","useEffect","formData","touched","setTouched","prev","handleBlur","defaultPejabat","setDefaultPejabat","useState","showMapPicker","setShowMapPicker","currentTab","setCurrentTab","errors","setErrors","showAsalUsulDialog","setShowAsalUsulDialog","asalUsulSearch","setAsalUsulSearch","asalUsulPage","setAsalUsulPage","itemsPerPage","getInitialFormData","setFormData","kelurahanOptions","setKelurahanOptions","loadedData","e","filtered","w","pejabat","k","kecamatanOptions","handleChange","handleSubmit","processedData","err","validateTab","tab","newErrors","field","val","handleNextTab","tabs","currentIndex","Fragment","Tabs","User","Map","MapPin","UserPlus","FileText","idx","arr","React","t","TabsContent","Card","CardHeader","CardTitle","CardContent","User2Icon","CreditCard","CalendarCheck","TagIcon","HomeIcon","Button","Select","v","SelectTrigger","SelectValue","SelectContent","SelectItem","ArrowBigUp","ArrowBigRight","ArrowBigDown","ArrowBigLeft","Badge","Eye","newCoords","coord","_","i","Loader2","Save","MapPicker","coords","Dialog","DialogContent","DialogHeader","DialogTitle","Search","au","totalPages","startIndex","paginatedItems","asalUsul","index","FormTanah","navigate","useNavigate","searchParams","useSearchParams","tanahId","setUser","queryClient","useQueryClient","userStr","tanahList","useQuery","editingTanah","createMutation","useMutation","payload","toast","updateMutation","id","_id","dataWithoutId","ArrowLeft"],"mappings":"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"}