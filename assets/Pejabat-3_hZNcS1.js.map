{"version":3,"file":"Pejabat-3_hZNcS1.js","sources":["../../Pages/Pejabat.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '@/api/db';\r\nimport { getCurrentUser } from '@/api/authUser';\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { \r\n  Users, \r\n  Plus, \r\n  Search, \r\n  Pencil, \r\n  Trash2,\r\n  UserCheck,\r\n  Building\r\n} from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { toast } from 'sonner';\r\n\r\nconst JABATAN_OPTIONS = [\r\n  'Camat',\r\n  'Lurah',\r\n  'Kasi Pemerintahan',\r\n  'Staf Administrasi Kecamatan'\r\n];\r\n\r\nexport default function Pejabat() {\r\n  const [user, setUser] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterJabatan, setFilterJabatan] = useState('all');\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingPejabat, setEditingPejabat] = useState(null);\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    kecamatan: '',\r\n    kelurahan: '',\r\n    nama: '',\r\n    jabatan: '',\r\n    nip: '',\r\n    selaku: '',\r\n    aktif: true\r\n  });\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  useEffect(() => {\r\n    // ...existing code...\r\n    const getUser = async () => {\r\n      const { data: { user: authUser } } = await supabase.auth.getUser();\r\n      if (authUser) {\r\n        const { data: userApp } = await supabase\r\n          .from('users')\r\n          .select('*')\r\n          .eq('auth_id', authUser.id)\r\n          .single();\r\n        setUser(userApp);\r\n      }\r\n    };\r\n    getUser();\r\n  }, []);\r\n\r\n  const { data: pejabatList = [], isLoading } = useQuery({\r\n    queryKey: ['pejabat'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase.from('pejabat').select('*');\r\n      if (error) throw new Error(error.message);\r\n      return data || [];\r\n    },\r\n  });\r\n\r\n  const { data: wilayahList = [] } = useQuery({\r\n    queryKey: ['wilayah'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase.from('wilayah').select('*');\r\n      if (error) throw new Error(error.message);\r\n      return data || [];\r\n    },\r\n  });\r\n\r\n  const createMutation = useMutation({\r\n    mutationFn: async (data) => {\r\n      const { error } = await supabase.from('pejabat').insert([data]);\r\n      if (error) throw new Error(error.message);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['pejabat']);\r\n      setShowForm(false);\r\n      resetForm();\r\n      toast.success('Data pejabat berhasil ditambahkan');\r\n    },\r\n  });\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: async ({ id, data }) => {\r\n      const { error } = await supabase.from('pejabat').update(data).eq('id', id);\r\n      if (error) throw new Error(error.message);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['pejabat']);\r\n      setShowForm(false);\r\n      setEditingPejabat(null);\r\n      resetForm();\r\n      toast.success('Data pejabat berhasil diperbarui');\r\n    },\r\n  });\r\n\r\n  const deleteMutation = useMutation({\r\n    mutationFn: async (id) => {\r\n      const { error } = await supabase.from('pejabat').delete().eq('id', id);\r\n      if (error) throw new Error(error.message);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['pejabat']);\r\n      setDeleteId(null);\r\n      toast.success('Data pejabat berhasil dihapus');\r\n    },\r\n  });\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      kecamatan: '',\r\n      kelurahan: '',\r\n      nama: '',\r\n      jabatan: '',\r\n      nip: '',\r\n      selaku: '',\r\n      aktif: true\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (editingPejabat) {\r\n      updateMutation.mutate({ id: editingPejabat.id, data: formData });\r\n    } else {\r\n      createMutation.mutate(formData);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (pejabat) => {\r\n    setEditingPejabat(pejabat);\r\n    setFormData({\r\n      kecamatan: pejabat.kecamatan || '',\r\n      kelurahan: pejabat.kelurahan || '',\r\n      nama: pejabat.nama || '',\r\n      jabatan: pejabat.jabatan || '',\r\n      nip: pejabat.nip || '',\r\n      selaku: pejabat.selaku || '',\r\n      aktif: pejabat.aktif !== false\r\n    });\r\n    setShowForm(true);\r\n  };\r\n\r\n  const kecamatanOptions = [...new Set(wilayahList.map(w => w.kecamatan))];\r\n  const kelurahanOptions = formData.kecamatan \r\n    ? [...new Set(wilayahList.filter(w => w.kecamatan === formData.kecamatan).map(w => w.kelurahan))]\r\n    : [];\r\n\r\n  const filteredPejabat = pejabatList.filter(pejabat => {\r\n    const matchSearch = pejabat.nama?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                        pejabat.nip?.includes(searchTerm) ||\r\n                        pejabat.kecamatan?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchJabatan = filterJabatan === 'all' || pejabat.jabatan === filterJabatan;\r\n    return matchSearch && matchJabatan;\r\n  });\r\n\r\n  const jabatanColors = {\r\n    'Camat': 'bg-purple-100 text-purple-700',\r\n    'Lurah': 'bg-blue-100 text-blue-700',\r\n    'Kasi Pemerintahan': 'bg-emerald-100 text-emerald-700',\r\n    'Staf Administrasi Kecamatan': 'bg-orange-100 text-orange-700'\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-white flex items-center gap-3\">\r\n            <Users className=\"w-8 h-8 text-white\" />\r\n            Data Pejabat\r\n          </h1>\r\n          <p className=\"text-white mt-1\">\r\n            Kelola data pejabat penanda tangan\r\n          </p>\r\n        </div>\r\n        <Button \r\n          onClick={() => {\r\n            setEditingPejabat(null);\r\n            resetForm();\r\n            setShowForm(true);\r\n          }}\r\n          className=\"bg-blue-600 hover:bg-blue-900 text-white\"\r\n        >\r\n          <Plus className=\"w-4 h-4 mr-2\" />\r\n          Tambah Pejabat\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"border-0 shadow-md bg-transparent\">\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            <div className=\"flex-1 relative\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n              <Input\r\n                placeholder=\"Cari nama, NIP, atau kecamatan...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10 border-2 border-white-500 text-white placeholder-white\"\r\n              />\r\n            </div>\r\n            <Select value={filterJabatan} onValueChange={setFilterJabatan}>\r\n              <SelectTrigger className=\"w-full md:w-64 border-2 border-white-500 text-white\">\r\n                <SelectValue placeholder=\"Filter Jabatan\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">Semua Jabatan</SelectItem>\r\n                {JABATAN_OPTIONS.map(j => (\r\n                  <SelectItem key={j} value={j}>{j}</SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Data Table */}\r\n      <Card className=\"border-0 shadow-lg\">\r\n        <CardContent className=\"p-0\">\r\n          {filteredPejabat.length === 0 ? (\r\n            <div className=\"p-12 text-center\">\r\n              <Users className=\"w-12 h-12 text-slate-300 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-slate-600\">Belum ada data pejabat</h3>\r\n              <p className=\"text-slate-400 mt-1\">Klik tombol \"Tambah Pejabat\" untuk menambahkan data baru</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-blue-700 border-b-2 border-blue-700\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider\">\r\n                      No\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider\">\r\n                      Nama & NIP\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider\">\r\n                      Jabatan\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider\">\r\n                      Wilayah\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider\">\r\n                      Selaku\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-center text-xs font-semibold text-white uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-center text-xs font-semibold text-white uppercase tracking-wider\">\r\n                      Aksi\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-slate-100\">\r\n                  <AnimatePresence>\r\n                    {filteredPejabat.map((pejabat, index) => (\r\n                      <motion.tr\r\n                        key={pejabat.id}\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        exit={{ opacity: 0, x: 20 }}\r\n                        transition={{ delay: index * 0.03 }}\r\n                        className={`hover:bg-slate-50 transition-colors duration-150 ${index % 2 === 1 ? 'bg-gray-300' : 'bg-white'}`}\r\n                      >\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-slate-600\">\r\n                          {index + 1}\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-md flex-shrink-0\">\r\n                              <span className=\"text-white text-sm font-bold\">\r\n                                {pejabat.nama?.charAt(0).toUpperCase() || 'P'}\r\n                              </span>\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"text-sm font-semibold text-slate-800\">{pejabat.nama}</p>\r\n                              <p className=\"text-xs text-slate-500\">NIP: {pejabat.nip || '-'}</p>\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <Badge className={jabatanColors[pejabat.jabatan] || 'bg-slate-100 text-slate-700'}>\r\n                            {pejabat.jabatan}\r\n                          </Badge>\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <div className=\"flex items-start gap-2\">\r\n                            <Building className=\"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0\" />\r\n                            <div className=\"text-sm text-slate-600\">\r\n                              <p className=\"font-medium\">{pejabat.kecamatan}</p>\r\n                              {pejabat.kelurahan && (\r\n                                <p className=\"text-slate-500\">{pejabat.kelurahan}</p>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 text-sm text-slate-600\">\r\n                          {pejabat.selaku || '-'}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-center\">\r\n                          <Badge className={pejabat.aktif !== false \r\n                            ? 'bg-green-100 text-green-700 border-green-200' \r\n                            : 'bg-red-100 text-red-700 border-red-200'\r\n                          }>\r\n                            {pejabat.aktif !== false ? 'Aktif' : 'Non-aktif'}\r\n                          </Badge>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-center\">\r\n                          <div className=\"flex items-center justify-center gap-2\">\r\n                            <Button \r\n                              variant=\"ghost\" \r\n                              size=\"sm\"\r\n                              onClick={() => handleEdit(pejabat)}\r\n                              className=\"text-blue-600 hover:text-green-700 hover:bg-green-50\"\r\n                            >\r\n                              <Pencil className=\"w-4 h-4\" />\r\n                            </Button>\r\n                            <Button \r\n                              variant=\"ghost\" \r\n                              size=\"sm\"\r\n                              onClick={() => setDeleteId(pejabat.id)}\r\n                              className=\"text-red-600 hover:text-green-700 hover:bg-blue-50\"\r\n                            >\r\n                              <Trash2 className=\"w-4 h-4\" />\r\n                            </Button>\r\n                          </div>\r\n                        </td>\r\n                      </motion.tr>\r\n                    ))}\r\n                  </AnimatePresence>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Form Dialog */}\r\n      <Dialog open={showForm} onOpenChange={setShowForm}>\r\n        <DialogContent className=\"max-w-lg bg-gray-100\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-xl\">\r\n              {editingPejabat ? 'Edit Data Pejabat' : 'Tambah Pejabat Baru'}\r\n            </DialogTitle>          </DialogHeader>\r\n          <form onSubmit={handleSubmit} className=\"space-y-4 mt-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>Kecamatan *</Label>\r\n                <Select \r\n                  value={formData.kecamatan} \r\n                  onValueChange={(v) => setFormData({ ...formData, kecamatan: v, kelurahan: '' })}\r\n                >\r\n                  <SelectTrigger className=\"border-2 border-blue-500\">\r\n                    <SelectValue placeholder=\"Pilih Kecamatan\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {kecamatanOptions.map(k => (\r\n                      <SelectItem key={k} value={k}>{k}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>Kelurahan</Label>\r\n                <Select \r\n                  value={formData.kelurahan} \r\n                  onValueChange={(v) => setFormData({ ...formData, kelurahan: v })}\r\n                >\r\n                  <SelectTrigger className=\"border-2 border-blue-500\">\r\n                    <SelectValue placeholder=\"Pilih Kelurahan\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {kelurahanOptions.map(k => (\r\n                      <SelectItem key={k} value={k}>{k}</SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"\">Nama Pejabat *</Label>\r\n              <Input\r\n                className=\"\"\r\n                value={formData.nama}\r\n                onChange={(e) => setFormData({ ...formData, nama: e.target.value })}\r\n                placeholder=\"Nama lengkap\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>Jabatan *</Label>\r\n              <Select\r\n                \r\n                value={formData.jabatan} \r\n                onValueChange={(v) => setFormData({ ...formData, jabatan: v })}\r\n              >\r\n                <SelectTrigger className= \"border-2 border-blue-500\">\r\n                  <SelectValue placeholder=\"Pilih Jabatan\" />\r\n                </SelectTrigger >\r\n                <SelectContent>\r\n                  {JABATAN_OPTIONS.map(j => (\r\n                    <SelectItem key={j} value={j}>{j}</SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>NIP</Label>\r\n              <Input\r\n                value={formData.nip}\r\n                onChange={(e) => setFormData({ ...formData, nip: e.target.value })}\r\n                placeholder=\"Nomor Induk Pegawai\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>Selaku</Label>\r\n              <Input\r\n                value={formData.selaku}\r\n                onChange={(e) => setFormData({ ...formData, selaku: e.target.value })}\r\n                placeholder=\"Contoh: Pengelola Data Pertanahan\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setShowForm(false)}>\r\n                Batal\r\n              </Button>\r\n              <Button \r\n                type=\"submit\" \r\n                className=\"bg-blue-600 hover:bg-blue-700\"\r\n                disabled={createMutation.isPending || updateMutation.isPending}\r\n              >\r\n                {createMutation.isPending || updateMutation.isPending ? 'Menyimpan...' : 'Simpan'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation */}\r\n      <AlertDialog open={!!deleteId} onOpenChange={() => setDeleteId(null)}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Hapus Data Pejabat?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Tindakan ini tidak dapat dibatalkan. Data pejabat akan dihapus secara permanen.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Batal</AlertDialogCancel>\r\n            <AlertDialogAction \r\n              onClick={() => deleteMutation.mutate(deleteId)}\r\n              className=\"bg-red-600 hover:bg-red-700\"\r\n            >\r\n              Hapus\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n}"],"names":["JABATAN_OPTIONS","Pejabat","user","setUser","useState","searchTerm","setSearchTerm","filterJabatan","setFilterJabatan","showForm","setShowForm","editingPejabat","setEditingPejabat","deleteId","setDeleteId","formData","setFormData","kecamatan","kelurahan","nama","jabatan","nip","selaku","aktif","queryClient","useQueryClient","useEffect","async","data","authUser","supabase","auth","getUser","userApp","from","select","eq","id","single","pejabatList","isLoading","useQuery","queryKey","queryFn","error","Error","message","wilayahList","createMutation","useMutation","mutationFn","insert","onSuccess","invalidateQueries","resetForm","toast","success","updateMutation","update","deleteMutation","delete","kecamatanOptions","Set","map","w","kelurahanOptions","filter","filteredPejabat","pejabat","matchSearch","toLowerCase","includes","matchJabatan","jabatanColors","Camat","Lurah","jsxs","className","children","jsx","Users","Button","onClick","Plus","Card","CardContent","Search","Input","placeholder","value","onChange","e","target","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","j","length","AnimatePresence","index","motion","tr","initial","opacity","x","animate","exit","transition","delay","charAt","toUpperCase","Badge","Building","variant","size","handleEdit","Pencil","Trash2","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","onSubmit","preventDefault","mutate","Label","v","k","required","type","disabled","isPending","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"8lBAsCA,MAAMA,EAAkB,CACtB,QACA,QACA,oBACA,+BAGF,SAAwBC,IACtB,MAAOC,EAAMC,GAAWC,EAAAA,SAAS,OAC1BC,EAAYC,GAAiBF,EAAAA,SAAS,KACtCG,EAAeC,GAAoBJ,EAAAA,SAAS,QAC5CK,EAAUC,GAAeN,EAAAA,UAAS,IAClCO,EAAgBC,GAAqBR,EAAAA,SAAS,OAC9CS,EAAUC,GAAeV,EAAAA,SAAS,OAClCW,EAAUC,GAAeZ,WAAS,CACvCa,UAAW,GACXC,UAAW,GACXC,KAAM,GACNC,QAAS,GACTC,IAAK,GACLC,OAAQ,GACRC,OAAO,IAGHC,EAAcC,IAEpBC,EAAAA,UAAU,KAEQC,WACd,MAAQC,MAAQ1B,KAAM2B,UAAqBC,EAASC,KAAKC,UACzD,GAAIH,EAAU,CACZ,MAAQD,KAAMK,SAAkBH,EAC7BI,KAAK,SACLC,OAAO,KACPC,GAAG,UAAWP,EAASQ,IACvBC,SACHnC,EAAQ8B,EACV,GAEFD,IACC,IAEH,MAAQJ,KAAMW,GAAc,GAAAC,UAAIA,IAAcC,EAAS,CACrDC,SAAU,CAAC,WACXC,QAAShB,UACP,MAAMC,KAAEA,EAAAgB,MAAMA,SAAgBd,EAASI,KAAK,WAAWC,OAAO,KAC9D,GAAIS,EAAO,MAAM,IAAIC,MAAMD,EAAME,SACjC,OAAOlB,GAAQ,OAIXA,KAAMmB,GAAc,IAAON,EAAS,CAC1CC,SAAU,CAAC,WACXC,QAAShB,UACP,MAAMC,KAAEA,EAAAgB,MAAMA,SAAgBd,EAASI,KAAK,WAAWC,OAAO,KAC9D,GAAIS,EAAO,MAAM,IAAIC,MAAMD,EAAME,SACjC,OAAOlB,GAAQ,MAIboB,GAAiBC,EAAY,CACjCC,WAAYvB,MAAOC,IACjB,MAAMgB,MAAEA,SAAgBd,EAASI,KAAK,WAAWiB,OAAO,CAACvB,IACzD,GAAIgB,EAAO,MAAM,IAAIC,MAAMD,EAAME,UAEnCM,UAAW,KACT5B,EAAY6B,kBAAkB,CAAC,YAC/B3C,GAAY,GACZ4C,KACAC,EAAMC,QAAQ,wCAIZC,GAAiBR,EAAY,CACjCC,WAAYvB,OAASU,KAAIT,WACvB,MAAMgB,MAAEA,SAAgBd,EAASI,KAAK,WAAWwB,OAAO9B,GAAMQ,GAAG,KAAMC,GACvE,GAAIO,EAAO,MAAM,IAAIC,MAAMD,EAAME,UAEnCM,UAAW,KACT5B,EAAY6B,kBAAkB,CAAC,YAC/B3C,GAAY,GACZE,EAAkB,MAClB0C,KACAC,EAAMC,QAAQ,uCAIZG,GAAiBV,EAAY,CACjCC,WAAYvB,MAAOU,IACjB,MAAMO,MAAEA,SAAgBd,EAASI,KAAK,WAAW0B,SAASxB,GAAG,KAAMC,GACnE,GAAIO,EAAO,MAAM,IAAIC,MAAMD,EAAME,UAEnCM,UAAW,KACT5B,EAAY6B,kBAAkB,CAAC,YAC/BvC,EAAY,MACZyC,EAAMC,QAAQ,oCAIZF,GAAY,KAChBtC,EAAY,CACVC,UAAW,GACXC,UAAW,GACXC,KAAM,GACNC,QAAS,GACTC,IAAK,GACLC,OAAQ,GACRC,OAAO,KA2BLsC,GAAmB,IAAI,IAAIC,IAAIf,GAAYgB,IAAIC,GAAKA,EAAE/C,aACtDgD,GAAmBlD,EAASE,UAC9B,IAAI,IAAI6C,IAAIf,GAAYmB,OAAOF,GAAKA,EAAE/C,YAAcF,EAASE,WAAW8C,IAAIC,GAAKA,EAAE9C,aACnF,GAEEiD,GAAkB5B,GAAY2B,OAAOE,IACzC,MAAMC,EAAcD,EAAQjD,MAAMmD,cAAcC,SAASlE,EAAWiE,gBAChDF,EAAQ/C,KAAKkD,SAASlE,IACtB+D,EAAQnD,WAAWqD,cAAcC,SAASlE,EAAWiE,eACnEE,EAAiC,QAAlBjE,GAA2B6D,EAAQhD,UAAYb,EACpE,OAAO8D,GAAeG,IAGlBC,GAAgB,CACpBC,MAAS,gCACTC,MAAS,4BACT,oBAAqB,kCACrB,8BAA+B,iCAGjC,SACEC,KAAC,MAAA,CAAIC,UAAU,YAEbC,SAAA,GAAAF,KAAC,MAAA,CAAIC,UAAU,qEACbC,SAAA,CAAAF,OAAC,MAAA,CACCE,SAAA,GAAAF,KAAC,KAAA,CAAGC,UAAU,wDACZC,SAAA,GAAAC,IAACC,EAAA,CAAMH,UAAU,uBAAuB,kBAG1CE,EAAAA,IAAC,IAAA,CAAEF,UAAU,kBAAkBC,SAAA,0CAIjCF,EAAAA,KAACK,EAAA,CACCC,QAAS,KACPtE,EAAkB,MAClB0C,KACA5C,GAAY,IAEdmE,UAAU,2CAEVC,SAAA,GAAAC,IAACI,EAAA,CAAKN,UAAU,iBAAiB,uBAMrCE,EAAAA,IAACK,EAAA,CAAKP,UAAU,oCACdC,WAAAC,IAACM,EAAA,CAAYR,UAAU,MACrBC,SAAAF,OAAC,MAAA,CAAIC,UAAU,kCACbC,SAAA,GAAAF,KAAC,MAAA,CAAIC,UAAU,kBACbC,SAAA,GAAAC,IAACO,EAAA,CAAOT,UAAU,oEAClBE,EAAAA,IAACQ,EAAA,CACCC,YAAY,oCACZC,MAAOpF,EACPqF,SAAWC,GAAMrF,EAAcqF,EAAEC,OAAOH,OACxCZ,UAAU,oEAGdD,EAAAA,KAACiB,EAAA,CAAOJ,MAAOlF,EAAeuF,cAAetF,EAC3CsE,SAAA,CAAAC,EAAAA,IAACgB,GAAclB,UAAU,sDACvBC,eAACkB,EAAA,CAAYR,YAAY,4BAE1BS,EAAA,CACCnB,SAAA,CAAAC,EAAAA,IAACmB,EAAA,CAAWT,MAAM,MAAMX,SAAA,kBACvB9E,EAAgB+D,IAAIoC,KACnBpB,IAACmB,GAAmBT,MAAOU,EAAIrB,SAAAqB,GAAdA,iBAS7BpB,MAACK,EAAA,CAAKP,UAAU,qBACdC,eAACO,EAAA,CAAYR,UAAU,MACpBC,SAA2B,IAA3BX,GAAgBiC,OACfxB,EAAAA,KAAC,MAAA,CAAIC,UAAU,mBACbC,SAAA,GAAAC,IAACC,EAAA,CAAMH,UAAU,0CACjBE,EAAAA,IAAC,KAAA,CAAGF,UAAU,qCAAqCC,SAAA,2BACnDC,EAAAA,IAAC,IAAA,CAAEF,UAAU,sBAAsBC,SAAA,sEAGpC,MAAA,CAAID,UAAU,kBACbC,WAAAF,KAAC,QAAA,CAAMC,UAAU,SACfC,SAAA,CAAAC,MAAC,QAAA,CAAMF,UAAU,yCACfC,SAAAF,EAAAA,KAAC,KAAA,CACCE,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAGF,UAAU,gFAAgFC,SAAA,OAG9FC,EAAAA,IAAC,KAAA,CAAGF,UAAU,gFAAgFC,SAAA,eAG9FC,EAAAA,IAAC,KAAA,CAAGF,UAAU,gFAAgFC,SAAA,YAG9FC,EAAAA,IAAC,KAAA,CAAGF,UAAU,gFAAgFC,SAAA,YAG9FC,EAAAA,IAAC,KAAA,CAAGF,UAAU,gFAAgFC,SAAA,WAG9FC,EAAAA,IAAC,KAAA,CAAGF,UAAU,kFAAkFC,SAAA,WAGhGC,EAAAA,IAAC,KAAA,CAAGF,UAAU,kFAAkFC,SAAA,gBAKpGC,IAAC,QAAA,CAAMF,UAAU,qCACfC,SAAAC,EAAAA,IAACsB,GACEvB,SAAAX,GAAgBJ,IAAI,CAACK,EAASkC,IAC7B1B,EAAAA,KAAC2B,EAAOC,GAAP,CAECC,QAAS,CAAEC,QAAS,EAAGC,GAAG,IAC1BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,GAC1BE,KAAM,CAAEH,QAAS,EAAGC,EAAG,IACvBG,WAAY,CAAEC,MAAe,IAART,GACrBzB,UAAW,qDAAoDyB,EAAQ,GAAM,EAAI,cAAgB,YAEjGxB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAGF,UAAU,qDACXC,SAAAwB,EAAQ,UAEV,KAAA,CAAGzB,UAAU,YACZC,SAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,0BACbC,SAAA,CAAAC,MAAC,MAAA,CAAIF,UAAU,8HACbC,SAAAC,EAAAA,IAAC,QAAKF,UAAU,+BACbC,SAAAV,EAAQjD,MAAM6F,OAAO,GAAGC,eAAiB,eAG7C,MAAA,CACCnC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAEF,UAAU,uCAAwCC,SAAAV,EAAQjD,SAC7DyD,KAAC,IAAA,CAAEC,UAAU,yBAAyBC,SAAA,CAAA,QAAMV,EAAQ/C,KAAO,eAIjE0D,EAAAA,IAAC,KAAA,CAAGF,UAAU,8BACZC,eAACoC,EAAA,CAAMrC,UAAWJ,GAAcL,EAAQhD,UAAY,8BACjD0D,SAAAV,EAAQhD,kBAGZ,KAAA,CAAGyD,UAAU,YACZC,SAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,yBACbC,SAAA,GAAAC,IAACoC,EAAA,CAAStC,UAAU,kDACpBD,KAAC,MAAA,CAAIC,UAAU,yBACbC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAEF,UAAU,cAAeC,SAAAV,EAAQnD,YACnCmD,EAAQlD,WACP6D,EAAAA,IAAC,KAAEF,UAAU,iBAAkBC,WAAQ5D,0BAK9C,KAAA,CAAG2D,UAAU,mCACXC,SAAAV,EAAQ9C,QAAU,YAEpB,KAAA,CAAGuD,UAAU,0CACZC,SAAAC,EAAAA,IAACmC,GAAMrC,WAA6B,IAAlBT,EAAQ7C,MACtB,+CACA,yCAEDuD,UAAkB,IAAlBV,EAAQ7C,MAAkB,QAAU,sBAGxC,KAAA,CAAGsD,UAAU,0CACZC,SAAAF,EAAAA,KAAC,MAAA,CAAIC,UAAU,yCACbC,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACCmC,QAAQ,QACRC,KAAK,KACLnC,QAAS,IAxLlB,CAACd,IAClBxD,EAAkBwD,GAClBpD,EAAY,CACVC,UAAWmD,EAAQnD,WAAa,GAChCC,UAAWkD,EAAQlD,WAAa,GAChCC,KAAMiD,EAAQjD,MAAQ,GACtBC,QAASgD,EAAQhD,SAAW,GAC5BC,IAAK+C,EAAQ/C,KAAO,GACpBC,OAAQ8C,EAAQ9C,QAAU,GAC1BC,OAAyB,IAAlB6C,EAAQ7C,QAEjBb,GAAY,IA6K6B4G,CAAWlD,GAC1BS,UAAU,uDAEVC,SAAAC,EAAAA,IAACwC,EAAA,CAAO1C,UAAU,cAEpBE,EAAAA,IAACE,EAAA,CACCmC,QAAQ,QACRC,KAAK,KACLnC,QAAS,IAAMpE,EAAYsD,EAAQ/B,IACnCwC,UAAU,qDAEVC,SAAAC,EAAAA,IAACyC,EAAA,CAAO3C,UAAU,qBAlEnBT,EAAQ/B,kBAiF/B0C,EAAAA,IAAC0C,GAAOC,KAAMjH,EAAUkH,aAAcjH,EACpCoE,WAAAF,KAACgD,EAAA,CAAc/C,UAAU,uBACvBC,SAAA,CAAAF,OAACiD,EAAA,CACC/C,SAAA,CAAAC,MAAC+C,EAAA,CAAYjD,UAAU,UACpBC,SAAAnE,EAAiB,oBAAsB,wBAC5B,gBAChBiE,EAAAA,KAAC,OAAA,CAAKmD,SAjOQpC,IACpBA,EAAEqC,iBACErH,EACF8C,GAAewE,OAAO,CAAE5F,GAAI1B,EAAe0B,GAAIT,KAAMb,IAErDiC,GAAeiF,OAAOlH,IA4NY8D,UAAU,iBACtCC,SAAA,GAAAF,KAAC,MAAA,CAAIC,UAAU,yBACbC,SAAA,GAAAF,KAAC,MAAA,CAAIC,UAAU,YACbC,SAAA,GAAAC,IAACmD,GAAMpD,SAAA,gBACPF,EAAAA,KAACiB,EAAA,CACCJ,MAAO1E,EAASE,UAChB6E,cAAgBqC,GAAMnH,EAAY,IAAKD,EAAUE,UAAWkH,EAAGjH,UAAW,KAE1E4D,SAAA,CAAAC,EAAAA,IAACgB,GAAclB,UAAU,2BACvBC,eAACkB,EAAA,CAAYR,YAAY,sBAE3BT,EAAAA,IAACkB,EAAA,CACEnB,SAAAjB,GAAiBE,IAAIqE,GACpBrD,EAAAA,IAACmB,EAAA,CAAmBT,MAAO2C,EAAItD,SAAAsD,GAAdA,cAKzBxD,KAAC,MAAA,CAAIC,UAAU,YACbC,SAAA,GAAAC,IAACmD,GAAMpD,SAAA,cACPF,EAAAA,KAACiB,EAAA,CACCJ,MAAO1E,EAASG,UAChB4E,cAAgBqC,GAAMnH,EAAY,IAAKD,EAAUG,UAAWiH,IAE5DrD,SAAA,CAAAC,EAAAA,IAACgB,GAAclB,UAAU,2BACvBC,eAACkB,EAAA,CAAYR,YAAY,sBAE3BT,EAAAA,IAACkB,EAAA,CACEnB,SAAAb,GAAiBF,IAAIqE,GACpBrD,EAAAA,IAACmB,EAAA,CAAmBT,MAAO2C,EAAItD,SAAAsD,GAAdA,iBAO3BxD,KAAC,MAAA,CAAIC,UAAU,YACbC,SAAA,CAAAC,EAAAA,IAACmD,EAAA,CAAMrD,UAAU,GAAGC,SAAA,mBACpBC,EAAAA,IAACQ,EAAA,CACCV,UAAU,GACVY,MAAO1E,EAASI,KAChBuE,SAAWC,GAAM3E,EAAY,IAAKD,EAAUI,KAAMwE,EAAEC,OAAOH,QAC3DD,YAAY,eACZ6C,UAAQ,SAIZzD,KAAC,MAAA,CAAIC,UAAU,YACbC,SAAA,GAAAC,IAACmD,GAAMpD,SAAA,cACPF,EAAAA,KAACiB,EAAA,CAECJ,MAAO1E,EAASK,QAChB0E,cAAgBqC,GAAMnH,EAAY,IAAKD,EAAUK,QAAS+G,IAE1DrD,SAAA,CAAAC,EAAAA,IAACgB,GAAclB,UAAW,2BACxBC,eAACkB,EAAA,CAAYR,YAAY,oBAE3BT,EAAAA,IAACkB,EAAA,CACEnB,SAAA9E,EAAgB+D,IAAIoC,GACnBpB,EAAAA,IAACmB,EAAA,CAAmBT,MAAOU,EAAIrB,SAAAqB,GAAdA,cAMzBvB,KAAC,MAAA,CAAIC,UAAU,YACbC,SAAA,GAAAC,IAACmD,GAAMpD,SAAA,QACPC,EAAAA,IAACQ,EAAA,CACCE,MAAO1E,EAASM,IAChBqE,SAAWC,GAAM3E,EAAY,IAAKD,EAAUM,IAAKsE,EAAEC,OAAOH,QAC1DD,YAAY,6BAIhBZ,KAAC,MAAA,CAAIC,UAAU,YACbC,SAAA,GAAAC,IAACmD,GAAMpD,SAAA,WACPC,EAAAA,IAACQ,EAAA,CACCE,MAAO1E,EAASO,OAChBoE,SAAWC,GAAM3E,EAAY,IAAKD,EAAUO,OAAQqE,EAAEC,OAAOH,QAC7DD,YAAY,2CAIhBZ,KAAC,MAAA,CAAIC,UAAU,8BACbC,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAOqD,KAAK,SAASlB,QAAQ,UAAUlC,QAAS,IAAMxE,GAAY,GAAQoE,SAAA,UAG3EC,EAAAA,IAACE,EAAA,CACCqD,KAAK,SACLzD,UAAU,gCACV0D,SAAUvF,GAAewF,WAAa/E,GAAe+E,UAEpD1D,SAAA9B,GAAewF,WAAa/E,GAAe+E,UAAY,eAAiB,wBAQnFzD,IAAC0D,EAAA,CAAYf,OAAQ7G,EAAU8G,aAAc,IAAM7G,EAAY,MAC7DgE,WAAAF,KAAC8D,EAAA,CACC5D,SAAA,CAAAF,OAAC+D,EAAA,CACC7D,SAAA,GAAAC,IAAC6D,GAAiB9D,SAAA,0BAClBC,IAAC8D,GAAuB/D,SAAA,8FAIzBgE,EAAA,CACChE,SAAA,GAAAC,IAACgE,GAAkBjE,SAAA,UACnBC,EAAAA,IAACiE,EAAA,CACC9D,QAAS,IAAMvB,GAAesE,OAAOpH,GACrCgE,UAAU,8BACXC,SAAA,oBAQb"}